<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ARIZONA : Le SALOON ‚Äî War Room Activiste</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-deep: #05070a;
      --bg: #0a0d12;
      --surface: #10141a;
      --card: #161b24;
      --card-hover: #1c222e;
      --border: #2a3142;
      --border-light: #3a4560;
      --text: #e8eaed;
      --text-soft: #b4bcd0;
      --muted: #6b7894;
      --mint: #7ee8b8;
      --mint-dim: rgba(126,232,184,0.15);
      --mint-glow: rgba(126,232,184,0.4);
      --lilac: #c4a7e7;
      --lilac-dim: rgba(196,167,231,0.15);
      --lilac-glow: rgba(196,167,231,0.4);
      --coral: #f08080;
      --coral-dim: rgba(240,128,128,0.15);
      --coral-glow: rgba(240,128,128,0.4);
      --gold: #fbbf24;
      --gold-dim: rgba(251,191,36,0.15);
      --blue: #4da6ff;
      --blue-dim: rgba(77,166,255,0.15);
      --green: #4ade80;
      --green-dim: rgba(74,222,128,0.15);
      --radius: 8px;
      --radius-lg: 12px;
      --shadow: 0 4px 24px rgba(0,0,0,0.5);
      --shadow-lg: 0 12px 48px rgba(0,0,0,0.7);
      --font: 'Outfit', system-ui, sans-serif;
      --mono: 'JetBrains Mono', monospace;
      --transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; overflow: hidden; }
    
    body {
      font-family: var(--font);
      background: var(--bg);
      color: var(--text);
      font-size: 13px;
      line-height: 1.5;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      pointer-events: none;
      background: repeating-linear-gradient(0deg, rgba(126,232,184,0.02) 0px, rgba(126,232,184,0.02) 1px, transparent 1px, transparent 3px);
      z-index: 9999;
    }

    /* Scrollbar */
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--mint-dim); }

    /* Animations */
    @keyframes pulse { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; } }
    @keyframes blink { 0%, 49% { opacity: 1; } 50%, 100% { opacity: 0; } }
    @keyframes slideIn { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes glowPulse { 0%, 100% { box-shadow: 0 0 10px var(--coral-glow); } 50% { box-shadow: 0 0 25px var(--coral-glow), 0 0 40px var(--coral-glow); } }

    /* Layout */
    .app { display: flex; flex-direction: column; height: 100%; }

    /* Header */
    header {
      background: linear-gradient(180deg, var(--surface) 0%, var(--bg) 100%);
      border-bottom: 1px solid var(--border);
      padding: 0 16px;
      height: 60px;
      display: flex;
      align-items: center;
      gap: 16px;
      flex-shrink: 0;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .logo-icon {
      width: 38px;
      height: 38px;
      background: linear-gradient(135deg, var(--coral) 0%, var(--gold) 100%);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      box-shadow: 0 2px 15px var(--coral-glow);
      animation: glowPulse 3s infinite;
    }

    .logo-text {
      font-weight: 700;
      font-size: 20px;
      letter-spacing: -0.5px;
    }

    .logo-text .highlight { color: var(--mint); }
    .logo-text .sub {
      display: block;
      font-size: 10px;
      font-weight: 500;
      color: var(--lilac);
      letter-spacing: 1px;
      text-transform: uppercase;
    }

    /* Navigation */
    .nav {
      display: flex;
      gap: 4px;
      flex: 1;
      margin-left: 24px;
    }

    .nav-tab {
      padding: 10px 16px;
      background: transparent;
      border: none;
      color: var(--muted);
      cursor: pointer;
      border-radius: var(--radius);
      font-size: 12px;
      font-weight: 500;
      font-family: var(--font);
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .nav-tab:hover { background: var(--card); color: var(--text-soft); }
    .nav-tab.active { background: var(--mint-dim); color: var(--mint); }
    .nav-tab .icon { font-size: 14px; }

    /* Header Actions */
    .header-actions {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .search-box {
      display: flex;
      align-items: center;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 0 12px;
      gap: 8px;
      transition: var(--transition);
    }

    .search-box:focus-within { border-color: var(--mint); box-shadow: 0 0 0 3px var(--mint-dim); }

    .search-box input {
      background: transparent;
      border: none;
      color: var(--text);
      font-size: 12px;
      padding: 8px 0;
      width: 180px;
      outline: none;
      font-family: var(--font);
    }

    .search-box input::placeholder { color: var(--muted); }

    .status-indicator {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 6px 12px;
      background: var(--coral-dim);
      border: 1px solid rgba(240,128,128,0.3);
      border-radius: var(--radius);
      font-size: 11px;
      font-weight: 600;
      color: var(--coral);
    }

    .status-dot {
      width: 8px;
      height: 8px;
      background: var(--coral);
      border-radius: 50%;
      animation: pulse 1.5s infinite;
    }

    /* Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 8px 14px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      color: var(--text);
      font-size: 12px;
      font-weight: 500;
      font-family: var(--font);
      cursor: pointer;
      transition: var(--transition);
      white-space: nowrap;
    }

    .btn:hover { background: var(--card-hover); border-color: var(--border-light); }
    .btn-primary { background: var(--mint); border-color: var(--mint); color: var(--bg-deep); font-weight: 600; }
    .btn-primary:hover { background: #9ef0cc; }
    .btn-danger { background: var(--coral-dim); border-color: rgba(240,128,128,0.3); color: var(--coral); }
    .btn-ghost { background: transparent; border-color: transparent; }
    .btn-sm { padding: 5px 10px; font-size: 11px; }

    /* Main */
    main { flex: 1; display: flex; overflow: hidden; }

    /* Tab Content */
    .tab-content { display: none; flex: 1; overflow: hidden; }
    .tab-content.active { display: flex; }

    /* Panels */
    .panel {
      display: flex;
      flex-direction: column;
      background: var(--bg);
      overflow: hidden;
    }

    .panel-header {
      padding: 12px 16px;
      background: var(--surface);
      border-bottom: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-shrink: 0;
    }

    .panel-title {
      font-size: 11px;
      font-weight: 600;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .panel-content { flex: 1; overflow-y: auto; padding: 12px; }
    .panel-border-right { border-right: 1px solid var(--border); }

    /* Entity List */
    .entity-list { display: flex; flex-direction: column; gap: 6px; }

    .entity-item {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 12px;
      cursor: pointer;
      transition: var(--transition);
    }

    .entity-item:hover { border-color: var(--border-light); background: var(--card-hover); }
    .entity-item.selected { border-color: var(--mint); box-shadow: 0 0 0 1px var(--mint); }

    .entity-name { font-weight: 600; font-size: 13px; margin-bottom: 2px; }
    .entity-role { font-size: 11px; color: var(--muted); margin-bottom: 6px; }
    .entity-meta { display: flex; gap: 6px; flex-wrap: wrap; }

    .badge {
      font-size: 9px;
      padding: 3px 8px;
      border-radius: 4px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .badge-ally { background: var(--green-dim); color: var(--green); }
    .badge-opponent { background: var(--coral-dim); color: var(--coral); }
    .badge-neutral { background: var(--lilac-dim); color: var(--lilac); }
    .badge-target { background: var(--gold-dim); color: var(--gold); }
    .badge-person { background: var(--blue-dim); color: var(--blue); }
    .badge-org { background: var(--lilac-dim); color: var(--lilac); }

    /* Detail Panel */
    .detail-panel { flex: 1; display: flex; flex-direction: column; }

    .detail-empty {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: var(--muted);
      gap: 12px;
    }

    .detail-empty .icon { font-size: 48px; opacity: 0.3; }

    .detail-header {
      padding: 20px;
      background: linear-gradient(180deg, var(--surface) 0%, var(--bg) 100%);
      border-bottom: 1px solid var(--border);
    }

    .detail-title { font-size: 22px; font-weight: 700; margin-bottom: 4px; }
    .detail-subtitle { color: var(--muted); font-size: 12px; }
    .detail-badges { display: flex; gap: 8px; margin-top: 12px; }
    .detail-body { padding: 20px; overflow-y: auto; flex: 1; }
    .detail-section { margin-bottom: 24px; }

    .detail-section-title {
      font-size: 11px;
      font-weight: 600;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 10px;
    }

    .detail-desc { color: var(--text-soft); line-height: 1.7; font-size: 13px; }

    /* CRISIS DASHBOARD */
    .crisis-dashboard {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 12px;
      padding: 16px;
      background: linear-gradient(180deg, rgba(240,128,128,0.05) 0%, transparent 100%);
      border-bottom: 1px solid var(--border);
    }

    .crisis-stat {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px;
      text-align: center;
      transition: var(--transition);
    }

    .crisis-stat:hover { border-color: var(--mint); transform: translateY(-2px); }

    .crisis-value {
      font-family: var(--mono);
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .crisis-value.coral { color: var(--coral); }
    .crisis-value.mint { color: var(--mint); }
    .crisis-value.lilac { color: var(--lilac); }
    .crisis-value.gold { color: var(--gold); }

    .crisis-label {
      font-size: 10px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .crisis-trend {
      font-size: 10px;
      margin-top: 4px;
      padding: 2px 6px;
      border-radius: 4px;
      display: inline-block;
    }

    .crisis-trend.up { background: var(--coral-dim); color: var(--coral); }
    .crisis-trend.down { background: var(--green-dim); color: var(--green); }

    /* SWOT Grid */
    .swot-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .swot-cell {
      border-radius: var(--radius);
      padding: 16px;
      min-height: 180px;
    }

    .swot-cell h4 {
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .swot-strengths { background: rgba(74,222,128,0.08); border: 1px solid rgba(74,222,128,0.2); }
    .swot-strengths h4 { color: var(--green); }
    .swot-weaknesses { background: var(--coral-dim); border: 1px solid rgba(240,128,128,0.2); }
    .swot-weaknesses h4 { color: var(--coral); }
    .swot-opportunities { background: var(--blue-dim); border: 1px solid rgba(77,166,255,0.2); }
    .swot-opportunities h4 { color: var(--blue); }
    .swot-threats { background: var(--gold-dim); border: 1px solid rgba(251,191,36,0.2); }
    .swot-threats h4 { color: var(--gold); }

    .swot-items { list-style: none; }

    .swot-item {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      padding: 6px 0;
      font-size: 11px;
      color: var(--text-soft);
      line-height: 1.4;
    }

    .swot-item::before {
      content: "‚Ä¢";
      flex-shrink: 0;
      color: inherit;
    }

    /* Timeline */
    .timeline-container { flex: 1; overflow-y: auto; padding: 24px; }

    .timeline { position: relative; padding-left: 30px; }

    .timeline::before {
      content: '';
      position: absolute;
      left: 8px;
      top: 0;
      bottom: 0;
      width: 2px;
      background: linear-gradient(180deg, var(--coral), var(--lilac), var(--mint));
    }

    .timeline-item { position: relative; margin-bottom: 24px; animation: slideIn 0.4s ease-out backwards; }
    .timeline-item:nth-child(1) { animation-delay: 0.1s; }
    .timeline-item:nth-child(2) { animation-delay: 0.2s; }
    .timeline-item:nth-child(3) { animation-delay: 0.3s; }
    .timeline-item:nth-child(4) { animation-delay: 0.4s; }
    .timeline-item:nth-child(5) { animation-delay: 0.5s; }

    .timeline-dot {
      position: absolute;
      left: -26px;
      top: 4px;
      width: 14px;
      height: 14px;
      border-radius: 50%;
      border: 2px solid var(--bg);
    }

    .timeline-dot.past { background: var(--muted); }
    .timeline-dot.active { background: var(--coral); box-shadow: 0 0 12px var(--coral-glow); animation: pulse 1.5s infinite; }
    .timeline-dot.future { background: var(--lilac); opacity: 0.6; }

    .timeline-date { font-size: 11px; color: var(--gold); font-family: var(--mono); margin-bottom: 4px; }
    .timeline-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 14px;
      cursor: pointer;
      transition: var(--transition);
    }
    .timeline-card:hover { border-color: var(--mint); }
    .timeline-title { font-weight: 600; margin-bottom: 4px; }
    .timeline-desc { font-size: 11px; color: var(--muted); }
    .timeline-count { font-family: var(--mono); font-size: 14px; color: var(--coral); margin-top: 8px; }

    /* Plaidoyer Layout */
    .plaidoyer-layout { display: flex; flex: 1; overflow: hidden; }

    .plaidoyer-sidebar {
      width: 220px;
      background: var(--surface);
      border-right: 1px solid var(--border);
      overflow-y: auto;
      padding: 12px;
    }

    .plaidoyer-content { flex: 1; overflow-y: auto; padding: 24px; }

    .plaid-nav-group { margin-bottom: 20px; }

    .plaid-nav-title {
      font-size: 10px;
      font-weight: 600;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 1px;
      padding: 8px 12px;
    }

    .plaid-nav-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: var(--radius);
      cursor: pointer;
      font-size: 12px;
      color: var(--text-soft);
      transition: var(--transition);
    }

    .plaid-nav-item:hover { background: var(--card); color: var(--text); }
    .plaid-nav-item.active { background: var(--mint-dim); color: var(--mint); }
    .plaid-nav-item .emoji { font-size: 15px; }

    .plaid-section { display: none; }
    .plaid-section.active { display: block; }

    .plaid-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      margin-bottom: 20px;
      overflow: hidden;
    }

    .plaid-card-header {
      padding: 14px 18px;
      border-bottom: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .plaid-card-title { font-weight: 600; font-size: 14px; }
    .plaid-card-body { padding: 18px; }

    /* Grids */
    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }

    /* Flashcards */
    .flashcard-container { max-width: 650px; margin: 0 auto; }

    .flashcard {
      background: linear-gradient(135deg, var(--mint-dim) 0%, var(--lilac-dim) 100%);
      border: 2px solid var(--mint);
      border-radius: var(--radius-lg);
      padding: 40px;
      min-height: 220px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
    }

    .flashcard:hover { transform: scale(1.02); box-shadow: 0 12px 40px var(--mint-glow); }

    .flashcard-question { font-size: 1.2rem; color: var(--text); line-height: 1.6; }
    .flashcard-answer {
      display: none;
      font-family: var(--mono);
      font-size: 1.4rem;
      color: var(--mint);
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px dashed var(--mint);
    }

    .flashcard.flipped .flashcard-question { display: none; }
    .flashcard.flipped .flashcard-answer { display: block; }

    .flashcard-controls {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-top: 24px;
    }

    .flashcard-progress {
      text-align: center;
      margin-top: 16px;
      font-family: var(--mono);
      color: var(--muted);
    }

    /* Arguments Grid */
    .arguments-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 16px;
    }

    .argument-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 18px;
      cursor: pointer;
      transition: var(--transition);
    }

    .argument-card:hover { border-color: var(--mint); transform: translateY(-3px); box-shadow: var(--shadow); }

    .argument-tag {
      font-size: 9px;
      padding: 3px 8px;
      background: var(--lilac-dim);
      color: var(--lilac);
      border-radius: 4px;
      text-transform: uppercase;
      margin-bottom: 10px;
      display: inline-block;
    }

    .argument-title { font-weight: 600; font-size: 14px; margin-bottom: 8px; }
    .argument-content { font-size: 12px; color: var(--text-soft); line-height: 1.6; }
    .argument-source {
      margin-top: 12px;
      font-size: 10px;
      color: var(--mint);
      padding-top: 10px;
      border-top: 1px dashed var(--border);
    }

    /* Checklist */
    .checklist-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 12px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      margin-bottom: 8px;
      cursor: pointer;
      transition: var(--transition);
    }

    .checklist-item:hover { background: var(--card-hover); }

    .check-box {
      width: 22px;
      height: 22px;
      border: 2px solid var(--mint);
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      transition: var(--transition);
      font-size: 14px;
    }

    .check-box.checked { background: var(--mint); color: var(--bg-deep); }
    .check-text { font-size: 12px; color: var(--text); line-height: 1.5; }
    .check-text.done { text-decoration: line-through; color: var(--muted); }

    .check-phase {
      font-size: 9px;
      padding: 2px 6px;
      border-radius: 4px;
      margin-left: auto;
      flex-shrink: 0;
    }

    .phase-avant { background: var(--blue-dim); color: var(--blue); }
    .phase-pendant { background: var(--gold-dim); color: var(--gold); }
    .phase-apres { background: var(--green-dim); color: var(--green); }

    /* 5 Pourquoi */
    .pourquoi-chain {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .pourquoi-item {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px;
      position: relative;
      border-left: 4px solid var(--lilac);
    }

    .pourquoi-item:last-child { border-left-color: var(--coral); }

    .pourquoi-number {
      position: absolute;
      top: -10px;
      left: -10px;
      width: 28px;
      height: 28px;
      background: var(--lilac);
      color: var(--bg-deep);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 12px;
    }

    .pourquoi-item:last-child .pourquoi-number { background: var(--coral); }

    .pourquoi-text { font-size: 12px; color: var(--text-soft); line-height: 1.6; padding-left: 10px; }

    /* Message Section */
    .message-box {
      background: linear-gradient(135deg, var(--coral-dim) 0%, var(--lilac-dim) 100%);
      border: 1px solid rgba(240,128,128,0.3);
      border-radius: var(--radius-lg);
      padding: 24px;
      margin-bottom: 20px;
    }

    .message-accroche {
      font-size: 1.1rem;
      color: var(--text);
      line-height: 1.7;
      font-style: italic;
    }

    .message-hashtags {
      margin-top: 16px;
      font-family: var(--mono);
      color: var(--mint);
      font-size: 12px;
    }

    /* SMART Goals */
    .smart-grid { display: flex; flex-direction: column; gap: 12px; }

    .smart-item {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px;
    }

    .smart-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .smart-letter {
      width: 28px;
      height: 28px;
      background: var(--mint);
      color: var(--bg-deep);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 14px;
    }

    .smart-title { font-weight: 600; font-size: 13px; }
    .smart-desc { font-size: 11px; color: var(--text-soft); line-height: 1.5; }

    /* Tools Grid */
    .tools-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 12px;
    }

    .tool-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 20px;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .tool-card:hover { border-color: var(--mint); transform: translateY(-3px); }

    .tool-icon { font-size: 32px; margin-bottom: 12px; }
    .tool-name { font-weight: 600; font-size: 13px; margin-bottom: 4px; }
    .tool-desc { font-size: 11px; color: var(--muted); }

    /* Terminal */
    .terminal {
      background: #000;
      border: 1px solid var(--mint);
      border-radius: var(--radius);
      padding: 16px;
      font-family: var(--mono);
      font-size: 12px;
      color: var(--mint);
      max-height: 200px;
      overflow-y: auto;
    }

    .terminal-line { margin-bottom: 4px; animation: fadeIn 0.3s ease-out; }
    .terminal-line::before { content: "> "; color: var(--lilac); }
    .terminal-line.warning { color: var(--gold); }
    .terminal-line.error { color: var(--coral); }

    /* Live Feed */
    .live-feed {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      overflow: hidden;
    }

    .live-header {
      padding: 10px 14px;
      background: var(--coral-dim);
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .live-indicator {
      width: 8px;
      height: 8px;
      background: var(--coral);
      border-radius: 50%;
      animation: pulse 1s infinite;
    }

    .live-title { font-size: 11px; font-weight: 600; color: var(--coral); text-transform: uppercase; }

    .feed-items { max-height: 300px; overflow-y: auto; }

    .feed-item {
      padding: 12px 14px;
      border-bottom: 1px solid var(--border);
      font-size: 11px;
      animation: slideIn 0.3s ease-out;
    }

    .feed-time { font-family: var(--mono); color: var(--muted); font-size: 10px; }
    .feed-text { color: var(--text); margin-top: 4px; }

    /* Generator */
    .generator-box {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px;
    }

    .generator-output {
      font-size: 13px;
      color: var(--text);
      line-height: 1.6;
      min-height: 80px;
      padding: 14px;
      background: var(--surface);
      border-radius: var(--radius);
      margin-bottom: 12px;
    }

    .generator-btn {
      width: 100%;
      font-family: var(--mono);
      font-size: 12px;
      padding: 12px;
      background: linear-gradient(90deg, var(--lilac), var(--mint));
      border: none;
      color: var(--bg-deep);
      cursor: pointer;
      border-radius: var(--radius);
      font-weight: 600;
      transition: var(--transition);
    }

    .generator-btn:hover { filter: brightness(1.1); transform: scale(1.02); }

    /* Modal */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.8);
      backdrop-filter: blur(4px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.2s, visibility 0.2s;
    }

    .modal-overlay.open { opacity: 1; visibility: visible; }

    .modal {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      width: 90%;
      max-width: 600px;
      max-height: 85vh;
      display: flex;
      flex-direction: column;
      transform: scale(0.95) translateY(20px);
      transition: transform 0.2s;
    }

    .modal-overlay.open .modal { transform: scale(1) translateY(0); }

    .modal-header {
      padding: 18px 24px;
      border-bottom: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-title { font-size: 17px; font-weight: 600; }

    .modal-close {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: transparent;
      border: none;
      color: var(--muted);
      cursor: pointer;
      font-size: 18px;
      transition: var(--transition);
    }

    .modal-close:hover { background: var(--surface); color: var(--text); }

    .modal-body { padding: 24px; overflow-y: auto; flex: 1; }

    /* Toast */
    .toast-container {
      position: fixed;
      bottom: 24px;
      right: 24px;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .toast {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 14px 18px;
      box-shadow: var(--shadow);
      animation: slideIn 0.3s ease;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .toast-success { border-left: 3px solid var(--mint); }
    .toast-error { border-left: 3px solid var(--coral); }

    /* Stats Mini Cards */
    .stats-mini { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }

    .stat-mini {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 14px;
      text-align: center;
    }

    .stat-mini-value { font-family: var(--mono); font-size: 1.3rem; font-weight: 700; color: var(--mint); }
    .stat-mini-label { font-size: 9px; color: var(--muted); text-transform: uppercase; margin-top: 4px; }

    /* Responsive */
    @media (max-width: 1200px) {
      .crisis-dashboard { grid-template-columns: repeat(3, 1fr); }
      .nav { display: none; }
    }

    @media (max-width: 768px) {
      .crisis-dashboard { grid-template-columns: repeat(2, 1fr); }
      header { padding: 0 12px; }
      .search-box { display: none; }
    }
  </style>
</head>
<body>
<div class="app">
  <header>
    <div class="logo">
      <div class="logo-icon">üåµ</div>
      <div class="logo-text">
        ARIZONA : <span class="highlight">Le SALOON</span>
        <span class="sub">War Room Activiste</span>
      </div>
    </div>
    <nav class="nav">
      <button class="nav-tab active" data-tab="dashboard"><span class="icon">üìä</span> Dashboard</button>
      <button class="nav-tab" data-tab="acteurs"><span class="icon">üë•</span> Acteurs</button>
      <button class="nav-tab" data-tab="timeline"><span class="icon">üìÖ</span> Timeline</button>
      <button class="nav-tab" data-tab="plaidoyer"><span class="icon">üéØ</span> Plaidoyer</button>
      <button class="nav-tab" data-tab="flashcards"><span class="icon">üé¥</span> Flashcards</button>
      <button class="nav-tab" data-tab="outils"><span class="icon">üõ†Ô∏è</span> Outils</button>
    </nav>
    <div class="header-actions">
      <div class="search-box">
        <span>üîç</span>
        <input type="text" id="globalSearch" placeholder="Rechercher... (Ctrl+K)">
      </div>
      <div class="status-indicator">
        <div class="status-dot"></div>
        <span>ALERTE VAGUE 2</span>
      </div>
    </div>
  </header>

  <main>
    <!-- DASHBOARD TAB -->
    <div class="tab-content active" id="tab-dashboard">
      <div style="flex: 1; overflow-y: auto;">
        <!-- Crisis Counter -->
        <div class="crisis-dashboard">
          <div class="crisis-stat">
            <div class="crisis-value coral">90,000</div>
            <div class="crisis-label">Personnes Menac√©es</div>
            <div class="crisis-trend up">‚Üë D'ici 2027</div>
          </div>
          <div class="crisis-stat">
            <div class="crisis-value mint">30,122</div>
            <div class="crisis-label">Basculements RIS</div>
            <div class="crisis-trend up">‚Üë +12.7%</div>
          </div>
          <div class="crisis-stat">
            <div class="crisis-value lilac">2.2M</div>
            <div class="crisis-label">B√©n√©ficiaires BIM</div>
            <div class="crisis-trend">20.4% pop.</div>
          </div>
          <div class="crisis-stat">
            <div class="crisis-value gold">18.3%</div>
            <div class="crisis-label">Risque AROPE</div>
            <div class="crisis-trend">2.1M personnes</div>
          </div>
          <div class="crisis-stat">
            <div class="crisis-value coral">1 Md‚Ç¨</div>
            <div class="crisis-label">Surco√ªt CPAS</div>
            <div class="crisis-trend up">‚Üë Non compens√©</div>
          </div>
        </div>

        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 20px; padding: 20px;">
          <!-- Left Column -->
          <div>
            <div class="plaid-card">
              <div class="plaid-card-header">
                <div class="plaid-card-title">üìú Message Central</div>
              </div>
              <div class="plaid-card-body">
                <div class="message-box">
                  <div class="message-accroche">
                    ¬´ En Belgique, 90 000 personnes vont perdre leur allocation de ch√¥mage d'ici 2027.<br><br>
                    Pas parce qu'elles ont trouv√© un emploi.<br>
                    Mais parce qu'un gouvernement a d√©cid√© que 24 mois, c'√©tait assez.<br><br>
                    Apr√®s ? Les CPAS.<br>
                    Et quand les CPAS n'auront plus les moyens ?<br>
                    <strong style="color: var(--coral);">La rue.</strong> ¬ª
                  </div>
                  <div class="message-hashtags">#StopArizona #Article23 #DigniteHumaine</div>
                </div>
              </div>
            </div>

            <div class="plaid-card">
              <div class="plaid-card-header">
                <div class="plaid-card-title">‚ö° Arguments Cl√©s</div>
                <button class="btn btn-sm" onclick="showTab('plaidoyer')">Voir tout</button>
              </div>
              <div class="plaid-card-body">
                <div class="arguments-grid" id="quick-arguments"></div>
              </div>
            </div>
          </div>

          <!-- Right Column -->
          <div>
            <div class="plaid-card">
              <div class="plaid-card-header">
                <div class="plaid-card-title">üìÖ Prochaines Vagues</div>
              </div>
              <div class="plaid-card-body" style="padding: 12px;">
                <div class="timeline" style="padding-left: 25px;">
                  <div class="timeline-item">
                    <div class="timeline-dot past"></div>
                    <div class="timeline-date">1 JAN 2026</div>
                    <div class="timeline-card">
                      <div class="timeline-title">Vague 1</div>
                      <div class="timeline-desc">Ch√¥meurs &gt;20 ans</div>
                      <div class="timeline-count">~28,000</div>
                    </div>
                  </div>
                  <div class="timeline-item">
                    <div class="timeline-dot active"></div>
                    <div class="timeline-date">1 MARS 2026</div>
                    <div class="timeline-card">
                      <div class="timeline-title">Vague 2</div>
                      <div class="timeline-desc">Ch√¥meurs 8-20 ans</div>
                      <div class="timeline-count">~35,000</div>
                    </div>
                  </div>
                  <div class="timeline-item">
                    <div class="timeline-dot future"></div>
                    <div class="timeline-date">1 AVR 2026</div>
                    <div class="timeline-card">
                      <div class="timeline-title">Vague 3</div>
                      <div class="timeline-desc">Ch√¥meurs &lt;8 ans</div>
                      <div class="timeline-count">~27,000</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="live-feed">
              <div class="live-header">
                <div class="live-indicator"></div>
                <div class="live-title">Fil d'Actualit√©</div>
              </div>
              <div class="feed-items" id="feed-items">
                <div class="feed-item">
                  <div class="feed-time">20/01/2026 ‚Äî 14:32</div>
                  <div class="feed-text">üì¢ Vague 2 confirm√©e ‚Äî 35 000 personnes concern√©es</div>
                </div>
                <div class="feed-item">
                  <div class="feed-time">19/01/2026 ‚Äî 09:15</div>
                  <div class="feed-text">‚öñÔ∏è Audience Cour Constitutionnelle ‚Äî d√©lais en discussion</div>
                </div>
                <div class="feed-item">
                  <div class="feed-time">18/01/2026 ‚Äî 16:45</div>
                  <div class="feed-text">üèõÔ∏è UVCW d√©nonce compensations insuffisantes</div>
                </div>
                <div class="feed-item">
                  <div class="feed-time">17/01/2026 ‚Äî 11:20</div>
                  <div class="feed-text">‚úä Front commun pr√©pare actions f√©vrier</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ACTEURS TAB -->
    <div class="tab-content" id="tab-acteurs">
      <div class="panel panel-border-right" style="width: 320px;">
        <div class="panel-header">
          <span class="panel-title">Acteurs</span>
          <select id="filterRole" class="btn btn-sm" style="padding: 4px 8px;">
            <option value="">Tous</option>
            <option value="ally">‚úÖ Alli√©s</option>
            <option value="opponent">‚ùå Adversaires</option>
            <option value="neutral">‚öñÔ∏è Neutres</option>
          </select>
        </div>
        <div class="panel-content">
          <div class="entity-list" id="actorsList"></div>
        </div>
      </div>
      <div class="detail-panel" id="actorDetail">
        <div class="detail-empty">
          <div class="icon">üë§</div>
          <p>S√©lectionnez un acteur pour voir les d√©tails</p>
        </div>
      </div>
    </div>

    <!-- TIMELINE TAB -->
    <div class="tab-content" id="tab-timeline">
      <div class="timeline-container">
        <h2 style="margin-bottom: 24px; color: var(--mint);">üìÖ Calendrier des Exclusions</h2>
        <div class="timeline" id="full-timeline"></div>
      </div>
    </div>

    <!-- PLAIDOYER TAB -->
    <div class="tab-content" id="tab-plaidoyer">
      <div class="plaidoyer-layout">
        <div class="plaidoyer-sidebar">
          <div class="plaid-nav-group">
            <div class="plaid-nav-title">üìã Analyse</div>
            <div class="plaid-nav-item active" data-section="vision"><span class="emoji">üéØ</span> Vision</div>
            <div class="plaid-nav-item" data-section="swot"><span class="emoji">üìä</span> SWOT</div>
            <div class="plaid-nav-item" data-section="pourquoi"><span class="emoji">‚ùì</span> 5 Pourquoi</div>
          </div>
          <div class="plaid-nav-group">
            <div class="plaid-nav-title">üí¨ Message</div>
            <div class="plaid-nav-item" data-section="message"><span class="emoji">üì¢</span> Accroche</div>
            <div class="plaid-nav-item" data-section="arguments"><span class="emoji">‚öîÔ∏è</span> Arguments</div>
          </div>
          <div class="plaid-nav-group">
            <div class="plaid-nav-title">üé¨ Action</div>
            <div class="plaid-nav-item" data-section="smart"><span class="emoji">üéØ</span> Objectifs SMART</div>
            <div class="plaid-nav-item" data-section="checklist"><span class="emoji">‚úÖ</span> Checklist</div>
          </div>
        </div>
        <div class="plaidoyer-content" id="plaidoyer-content">
          <!-- Sections loaded dynamically -->
        </div>
      </div>
    </div>

    <!-- FLASHCARDS TAB -->
    <div class="tab-content" id="tab-flashcards">
      <div style="flex: 1; overflow-y: auto; padding: 40px;">
        <h2 style="text-align: center; margin-bottom: 30px; color: var(--mint);">üé¥ √âducation Populaire ‚Äî 80 Flashcards</h2>
        <div class="flashcard-container">
          <div class="flashcard" id="flashcard" onclick="flipCard()">
            <div class="flashcard-question" id="fc-question">Cliquez pour commencer</div>
            <div class="flashcard-answer" id="fc-answer"></div>
          </div>
          <div class="flashcard-controls">
            <button class="btn" onclick="prevCard()">‚óÄ Pr√©c√©dent</button>
            <button class="btn btn-primary" onclick="flipCard()">Retourner</button>
            <button class="btn" onclick="nextCard()">Suivant ‚ñ∂</button>
          </div>
          <div class="flashcard-progress">
            <span id="fc-progress">0 / 0</span>
            <br><small style="color: var(--muted);">Raccourcis : ‚Üê ‚Üí Espace</small>
          </div>
        </div>
      </div>
    </div>

    <!-- OUTILS TAB -->
    <div class="tab-content" id="tab-outils">
      <div style="flex: 1; overflow-y: auto; padding: 24px;">
        <h2 style="margin-bottom: 24px; color: var(--mint);">üõ†Ô∏è Arsenal Tactique</h2>
        
        <div class="grid-2" style="margin-bottom: 24px;">
          <div class="plaid-card">
            <div class="plaid-card-header">
              <div class="plaid-card-title">üé∞ G√©n√©rateur de Contre-Discours</div>
            </div>
            <div class="plaid-card-body">
              <div class="generator-box">
                <div class="generator-output" id="generator-output">
                  ¬´ Les r√©formes Arizona ne sont pas une "activation". C'est un <strong>glissement organis√©</strong> de la solidarit√© f√©d√©rale vers l'assistance locale. ¬ª
                </div>
                <button class="generator-btn" onclick="generateCounterDiscourse()">
                  ‚ö° G√âN√âRER UN NOUVEAU CONTRE-DISCOURS
                </button>
              </div>
            </div>
          </div>

          <div class="plaid-card">
            <div class="plaid-card-header">
              <div class="plaid-card-title">üìä Chiffres Cl√©s</div>
            </div>
            <div class="plaid-card-body">
              <div class="stats-mini">
                <div class="stat-mini">
                  <div class="stat-mini-value">23 Md‚Ç¨</div>
                  <div class="stat-mini-label">Budget √©conomies</div>
                </div>
                <div class="stat-mini">
                  <div class="stat-mini-value">24 mois</div>
                  <div class="stat-mini-label">Limite ch√¥mage</div>
                </div>
                <div class="stat-mini">
                  <div class="stat-mini-value">1.5M</div>
                  <div class="stat-mini-label">Syndiqu√©s</div>
                </div>
                <div class="stat-mini">
                  <div class="stat-mini-value">140K</div>
                  <div class="stat-mini-label">Manifestants</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="plaid-card">
          <div class="plaid-card-header">
            <div class="plaid-card-title">‚ö° Actions Rapides</div>
          </div>
          <div class="plaid-card-body">
            <div class="tools-grid">
              <div class="tool-card" onclick="copyArgument()">
                <div class="tool-icon">üìã</div>
                <div class="tool-name">Copier Argument</div>
                <div class="tool-desc">Argument al√©atoire</div>
              </div>
              <div class="tool-card" onclick="generateTweet()">
                <div class="tool-icon">üê¶</div>
                <div class="tool-name">Tweet Pr√™t</div>
                <div class="tool-desc">Copier un tweet</div>
              </div>
              <div class="tool-card" onclick="showTab('flashcards')">
                <div class="tool-icon">üé¥</div>
                <div class="tool-name">Flashcards</div>
                <div class="tool-desc">80 questions</div>
              </div>
              <div class="tool-card" onclick="exportData()">
                <div class="tool-icon">üì•</div>
                <div class="tool-name">Exporter</div>
                <div class="tool-desc">Donn√©es JSON</div>
              </div>
              <div class="tool-card" onclick="showTab('acteurs')">
                <div class="tool-icon">üë•</div>
                <div class="tool-name">Acteurs</div>
                <div class="tool-desc">Cartographie</div>
              </div>
              <div class="tool-card" onclick="showTab('plaidoyer')">
                <div class="tool-icon">üéØ</div>
                <div class="tool-name">Plaidoyer</div>
                <div class="tool-desc">Strat√©gie compl√®te</div>
              </div>
            </div>
          </div>
        </div>

        <div class="plaid-card">
          <div class="plaid-card-header">
            <div class="plaid-card-title">üíª Terminal R√©sistance</div>
          </div>
          <div class="plaid-card-body">
            <div class="terminal" id="terminal">
              <div class="terminal-line">// ARIZONA SALOON v2.0 ‚Äî War Room Activiste</div>
              <div class="terminal-line">init_resistance_mode();</div>
              <div class="terminal-line">loading 80 flashcards... OK</div>
              <div class="terminal-line">loading 25 acteurs... OK</div>
              <div class="terminal-line warning">WARNING: Vague 2 dans 40 jours</div>
              <div class="terminal-line">status: MOBILISATION_ACTIVE</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

<div class="toast-container" id="toast-container"></div>

<script>
// ============================================================
// DATA
// ============================================================

const flashcards = [
  {q: "Comment appelle-t-on la coalition gouvernementale f√©d√©rale form√©e en f√©vrier 2025 ?", a: "La coalition Arizona"},
  {q: "Qui est le Premier ministre du gouvernement Arizona ?", a: "Bart De Wever (N-VA)"},
  {q: "Quels sont les 5 partis de la coalition Arizona ?", a: "N-VA, MR, Les Engag√©s, CD&V et Vooruit"},
  {q: "Quel est l'effort budg√©taire total pr√©vu d'ici 2029 ?", a: "23 milliards d'euros"},
  {q: "Quelle est la nouvelle dur√©e maximale des allocations de ch√¥mage ?", a: "24 mois (12 + 12)"},
  {q: "Combien de jours de n√©gociations pour former le gouvernement ?", a: "239 jours"},
  {q: "Quelle est la dur√©e max des allocations d'insertion pour les jeunes ?", a: "1 an (12 mois)"},
  {q: "√Ä quelle date le nouveau r√©gime de limitation s'applique-t-il pleinement ?", a: "1er mars 2026"},
  {q: "La Vague 1 cible les ch√¥meurs ayant plus de combien d'ann√©es de ch√¥mage ?", a: "Plus de 20 ans"},
  {q: "Quelle cat√©gorie est cibl√©e par la Vague 2 (1er mars 2026) ?", a: "Ch√¥meurs ayant entre 8 et 20 ans de ch√¥mage"},
  {q: "√Ä quelle date les ch√¥meurs avec moins de 8 ans sont exclus (Vague 3) ?", a: "1er avril 2026"},
  {q: "La Vague 4 concerne les demandeurs d'emploi en quelle p√©riode ?", a: "Deuxi√®me (2e) p√©riode"},
  {q: "Quel √¢ge prot√®ge th√©oriquement de la limitation du ch√¥mage ?", a: "55 ans et plus"},
  {q: "Pour √™tre prot√©g√© apr√®s 55 ans, combien d'ann√©es de carri√®re faut-il ?", a: "31 ans (en 2026)"},
  {q: "Quels travailleurs b√©n√©ficient d'une exemption √† la limitation ?", a: "Artistes, dockers, p√™cheurs de mer"},
  {q: "Comment appelle-t-on le passage massif vers les CPAS ?", a: "Le grand glissement"},
  {q: "Combien de personnes basculeront imm√©diatement vers le RIS ?", a: "30 122 personnes"},
  {q: "Quelle augmentation nationale des b√©n√©ficiaires RIS est pr√©vue ?", a: "12,7%"},
  {q: "Quelle r√©gion supporte 45% de l'impact national ?", a: "La Wallonie"},
  {q: "Quel est le co√ªt net estim√© pour Bruxelles en 2026 ?", a: "42,8 millions d'euros"},
  {q: "Quel % du RIS l'√âtat f√©d√©ral rembourse-t-il g√©n√©ralement ?", a: "Entre 55% et 70%"},
  {q: "Que signifie RIS ?", a: "Revenu d'Int√©gration Sociale"},
  {q: "Comment s'appelle le contrat obligatoire entre b√©n√©ficiaire RIS et CPAS ?", a: "PIIS (Projet Individualis√© d'Int√©gration Sociale)"},
  {q: "Combien d'ETP d'assistants sociaux suppl√©mentaires pour Bruxelles ?", a: "240"},
  {q: "Quel subside annuel par dossier d'exclu du ch√¥mage ?", a: "518 euros"},
  {q: "Que signifie BIM ?", a: "B√©n√©ficiaire de l'Intervention Major√©e"},
  {q: "Quel est le plafond de revenus annuels pour un isol√© demandant le BIM ?", a: "27 370,91 euros"},
  {q: "Le statut BIM est octroy√© automatiquement apr√®s combien de mois ?", a: "3 mois (ch√¥mage ou incapacit√©)"},
  {q: "√Ä partir du 1er janvier 2026, quels suppl√©ments sont interdits pour les BIM ?", a: "Suppl√©ments d'honoraires (en ambulatoire)"},
  {q: "Quel est le budget de l'assurance soins de sant√© en 2026 ?", a: "46,775 milliards d'euros"},
  {q: "Quel ticket mod√©rateur pour les m√©dicaments BIM en 2026 ?", a: "1 euro par bo√Æte"},
  {q: "Quelle √©conomie pr√©vue sur statines et IPP ?", a: "87,2 millions d'euros"},
  {q: "Apr√®s combien de semaines le Trajet Retour au Travail peut d√©buter ?", a: "10 semaines"},
  {q: "Quelle sanction pour un malade jug√© non coop√©rant ?", a: "2,5% de l'indemnit√© journali√®re"},
  {q: "Le d√©lai pour force majeure m√©dicale est r√©duit √† combien de mois ?", a: "6 mois"},
  {q: "Quelle amende l'employeur doit-il verser au Fonds Retour au Travail ?", a: "1 800 euros"},
  {q: "Quel % d'√©tudiants d√©clarent des difficult√©s pour se nourrir ?", a: "58%"},
  {q: "Quel est le prix moyen d'un kot en Belgique (2025) ?", a: "590 euros"},
  {q: "Combien d'heures de travail √©tudiant √† cotisations r√©duites ?", a: "650 heures par an"},
  {q: "Comment s'appelle le m√©canisme pour augmenter le salaire net des bas salaires ?", a: "Le bonus √† l'emploi fiscal"},
  {q: "Quel article de la Constitution garantit le droit √† une vie digne ?", a: "L'article 23"},
  {q: "Comment appelle-t-on l'obligation de ne pas r√©duire la protection sociale ?", a: "Le principe de standstill (effet cliquet)"},
  {q: "Quelle date pour la manifestation nationale massive de 2025 ?", a: "28 avril 2025"},
  {q: "Quel parti propose la taxe des millionnaires ?", a: "Le PTB"},
  {q: "Comment s'appelle le syst√®me de financement des CPAS bas√© sur les r√©sultats ?", a: "Le syst√®me bonus-malus"},
  {q: "Quel facteur alimente le non-recours aux droits selon l'IWEPS ?", a: "La digitalisation forc√©e des services publics"},
  {q: "Combien d'√©tudiants 'non-finan√ßables' suite au D√©cret Paysage ?", a: "15 000"},
  {q: "Quelle mutuelle a qualifi√© les r√©formes de 'taxe sant√©' ?", a: "Solidaris"},
  {q: "Quel % de la population belge √©tait en risque AROPE en 2024 ?", a: "18,3%"},
  {q: "Que signifie AROPE ?", a: "At Risk of Poverty or Social Exclusion"},
  {q: "Quelle plateforme centralise les avantages sociaux ?", a: "MyBenefits"},
  {q: "Comment appelle-t-on les travailleurs sous le seuil de pauvret√© ?", a: "Working poor (travailleurs pauvres)"},
  {q: "Quelle date pour le recours en annulation contre la limitation ?", a: "29 octobre 2025"},
  {q: "Quelle √©conomie pr√©vue sur les m√©dicaments vitaux ?", a: "26,2 millions d'euros"},
  {q: "Le prix moyen d'un kot √† Bruxelles d√©passe combien ?", a: "695 euros"},
  {q: "Quelle association √©tudiante d√©nonce la normalisation du travail salari√© ?", a: "La FEF"},
  {q: "Le mod√®le Arizona est un glissement vers quelle logique ?", a: "Logique d'assistance conditionnelle"},
  {q: "Quel impact financier net pour les communes bruxelloises en ann√©e pleine ?", a: "80 millions d'euros"},
  {q: "Quel service f√©d√©ral g√®re l'int√©gration sociale ?", a: "Le SPP Int√©gration Sociale"},
  {q: "Comment s'appelle le plan wallon 2025-2029 ?", a: "Le Plan Pauvret√© Wallon"},
  {q: "Quelle autorit√© juge de la constitutionnalit√© des lois sociales ?", a: "La Cour constitutionnelle"},
  {q: "Combien de ch√¥meurs potentiellement impact√©s √† terme ?", a: "90 000"},
  {q: "Qu'est-ce que la 'falaise fiscale' ?", a: "Une l√©g√®re hausse de revenus entra√Æne la perte du statut BIM"},
  {q: "Combien de personnes menac√©es d'exclusion du ch√¥mage ?", a: "90 000 personnes"},
  {q: "Combien rapporterait la taxe des millionnaires ?", a: "17 milliards d'euros"},
  {q: "Combien repr√©sente la fraude fiscale estim√©e ?", a: "30 milliards d'euros"},
  {q: "Combien de membres dans le front commun syndical ?", a: "1,5 million de membres"},
  {q: "Combien de manifestants en octobre 2025 ?", a: "140 000 manifestants"},
  {q: "Quel % de Belges pr√©sentent une vuln√©rabilit√© num√©rique ?", a: "40%"},
  {q: "Quel % chez les peu dipl√¥m√©s ?", a: "68%"},
  {q: "Quel est le taux AROPE √† Bruxelles ?", a: "37,3%"},
  {q: "Quel est le taux de b√©n√©ficiaires RIS √† Bruxelles ?", a: "3,68%"},
  {q: "Combien de sans-abri √† Bruxelles (nov. 2024) ?", a: "9 777 personnes"},
  {q: "Combien de sans-abri estim√©s en Belgique ?", a: "Pr√®s de 50 000 personnes"},
  {q: "Quel % des invalides le sont pour troubles musculo-squelettiques ou mentaux ?", a: "60%"},
  {q: "Combien d'ETP suppl√©mentaires n√©cessaires pour les CPAS wallons ?", a: "1 539"},
  {q: "Combien d'ETP pr√©vus par les compensations f√©d√©rales ?", a: "600 √† 800"},
  {q: "Quelle p√©nalit√© pour d√©part anticip√© √† la retraite (n√©s apr√®s 1975) ?", a: "-5% par ann√©e anticip√©e"},
  {q: "Quel montant du RIS isol√© par rapport au seuil de pauvret√© ?", a: "78% (1 314,20‚Ç¨ vs 1 522‚Ç¨)"}
];

const actors = [
  {name: "Bart De Wever", role: "Premier Ministre (N-VA)", position: "opponent", power: 5, desc: "Architecte id√©ologique des r√©formes. Leader inflexible de la coalition."},
  {name: "Frank Vandenbroucke", role: "Ministre Affaires sociales (Vooruit)", position: "neutral", power: 5, desc: "Pilote le volet sant√©. Position d√©licate au sein de la coalition."},
  {name: "Georges-Louis Bouchez", role: "Pr√©sident MR", position: "opponent", power: 4, desc: "Orthodoxie budg√©taire. D√©fenseur des coupes sociales."},
  {name: "Maxime Pr√©vot", role: "Pr√©sident Les Engag√©s", position: "neutral", power: 3, desc: "Sensibilit√© sociale relative. Partenaire h√©sitant."},
  {name: "Thierry Bodson", role: "Pr√©sident FGTB", position: "ally", power: 4, desc: "Leader du front commun syndical. Mobilisation nationale."},
  {name: "Marc Leemans", role: "Pr√©sident CSC", position: "ally", power: 4, desc: "Syndicat chr√©tien. Pilier du front commun."},
  {name: "CGSLB", role: "Syndicat lib√©ral", position: "ally", power: 3, desc: "Membre du front commun malgr√© positionnement lib√©ral."},
  {name: "Cour Constitutionnelle", role: "Juridiction supr√™me", position: "target", power: 5, desc: "Recours Article 23 pendants. Arr√™t attendu fin 2026."},
  {name: "Commission Europ√©enne", role: "Surveillance budg√©taire", position: "opponent", power: 4, desc: "Pression 23 milliards. Proc√©dure d√©ficit excessif."},
  {name: "UVCW", role: "CPAS wallons", position: "ally", power: 3, desc: "Union des Villes et Communes de Wallonie."},
  {name: "Brulocalis", role: "CPAS bruxellois", position: "ally", power: 3, desc: "80M‚Ç¨ surco√ªt estim√©. Alerte sur la saturation."},
  {name: "BAPN", role: "R√©seau anti-pauvret√© belge", position: "ally", power: 2, desc: "Coordination nationale de lutte contre la pauvret√©."},
  {name: "RWLP", role: "R√©seau wallon anti-pauvret√©", position: "ally", power: 2, desc: "Expertise terrain en Wallonie."},
  {name: "Solidaris", role: "Mutualit√© socialiste", position: "ally", power: 3, desc: "D√©nonce la 'taxe sant√©'. Expertise sant√©."},
  {name: "Paul Magnette", role: "Pr√©sident PS", position: "ally", power: 3, desc: "Opposition principale. Alternative politique."},
  {name: "PTB", role: "Parti gauche radicale", position: "ally", power: 2, desc: "Alternatives budg√©taires chiffr√©es. Taxe millionnaires."},
  {name: "√âcolo/Groen", role: "Partis verts", position: "ally", power: 2, desc: "Opposition √©cologique-sociale."},
  {name: "Ligue Droits Humains", role: "ONG droits fondamentaux", position: "ally", power: 2, desc: "Co-requ√©rant recours constitutionnel."},
  {name: "Vie F√©minine", role: "Mouvement f√©ministe", position: "ally", power: 2, desc: "D√©nonce discrimination indirecte femmes."},
  {name: "FEF", role: "F√©d√©ration √âtudiants", position: "ally", power: 2, desc: "Pr√©carit√© √©tudiante. 58% ins√©curit√© alimentaire."},
  {name: "DULBEA (ULB)", role: "Centre recherche √©conomique", position: "ally", power: 2, desc: "√âtudes d'impact chiffr√©es."},
  {name: "Vlaams Belang", role: "Extr√™me-droite", position: "opponent", power: 3, desc: "Risque r√©cup√©ration populiste de la col√®re."},
  {name: "ONEM", role: "Office National Emploi", position: "neutral", power: 3, desc: "Ex√©cutant des vagues d'exclusion."},
  {name: "INAMI", role: "Assurance maladie", position: "neutral", power: 3, desc: "Gestion statut BIM."},
  {name: "Sammy Mahdi", role: "Pr√©sident CD&V", position: "neutral", power: 3, desc: "Conservateur mod√©r√©. Position m√©diane."}
];

const arguments_data = [
  {tag: "√âconomie", title: "L'alternative budg√©taire existe", content: "La taxe des millionnaires rapporterait 17 milliards ‚Ç¨. La lutte contre la fraude fiscale : 30 milliards ‚Ç¨. Mais le gouvernement pr√©f√®re cibler les 90 000 ch√¥meurs les plus vuln√©rables.", source: "PTB ‚Äî Chiffrage Bureau du Plan"},
  {tag: "Social", title: "Le grand glissement vers les CPAS", content: "30 122 personnes basculeront imm√©diatement vers le RIS. Les CPAS estiment le surco√ªt √† plus d'1 milliard ‚Ç¨. La compensation f√©d√©rale ? 518‚Ç¨ par dossier.", source: "UVCW, Brulocalis ‚Äî 2025"},
  {tag: "Juridique", title: "L'Article 23 en danger", content: "Le principe de standstill interdit de r√©duire le niveau de protection sociale existant. Le recours constitutionnel du 29 octobre 2025 conteste cette r√©gression.", source: "Recours Front Commun"},
  {tag: "Sant√©", title: "Les malades cibl√©s, pas les maladies", content: "60% des invalides le sont pour des troubles musculo-squelettiques ou mentaux li√©s aux conditions de travail. La r√©forme sanctionne les victimes, pas les causes.", source: "Solidaris ‚Äî 2025"},
  {tag: "Territorial", title: "Punir les communes pauvres", content: "Bruxelles supporte 1/3 des exclusions pour 1/10 de la population. Le syst√®me bonus-malus p√©nalise les communes d√©j√† en difficult√©.", source: "Vivalis ‚Äî 2026"},
  {tag: "Id√©ologie", title: "Le mythe de l'activation", content: "Supprimer une allocation ne cr√©e pas d'emploi. Les freins r√©els : sant√©, √¢ge, mobilit√©, discrimination. La Belgique reste derni√®re de l'UE pour les m√©nages sans emploi (11.3%).", source: "EU-SILC 2024"},
  {tag: "Historique", title: "80 ans de recul social", content: "Le syst√®me de ch√¥mage illimit√© existe depuis 1944. Les syndicats qualifient ces r√©formes de 'plus grand recul social depuis 80 ans'.", source: "FGTB ‚Äî 2025"},
  {tag: "Num√©rique", title: "La fracture digitale exclut", content: "40% des Belges pr√©sentent une vuln√©rabilit√© num√©rique (68% chez les peu dipl√¥m√©s). eBox et MyBenefits deviennent des barri√®res √† l'acc√®s aux droits.", source: "Fondation Roi Baudouin"}
];

const swot = {
  strengths: [
    "Front commun syndical historique (1.5M membres)",
    "Recours constitutionnel d√©j√† introduit",
    "Donn√©es chiffr√©es cr√©dibles (DULBEA, IWEPS)",
    "Soutien unanime des CPAS wallons et bruxellois",
    "R√©seau associatif dense",
    "Pr√©c√©dents historiques de victoires sociales"
  ],
  weaknesses: [
    "Fragmentation linguistique (mobilisation faible en Flandre)",
    "Ressources financi√®res limit√©es",
    "Publics cibles difficiles √† mobiliser",
    "Complexit√© technique des r√©formes",
    "Fatigue militante apr√®s crises successives",
    "Absence de relais au sein de la majorit√©"
  ],
  opportunities: [
    "Tensions internes √† la coalition Arizona",
    "Calendrier juridique favorable (arr√™t 2026/2027)",
    "Saturation pr√©visible des CPAS",
    "Int√©r√™t m√©diatique pour les victimes",
    "Comparaison internationale favorable",
    "Mobilisations parall√®les actives"
  ],
  threats: [
    "Majorit√© parlementaire solide et disciplin√©e",
    "Pression budg√©taire europ√©enne",
    "Discours m√©diatique dominant",
    "R√©cup√©ration par l'extr√™me-droite",
    "√âpuisement si premi√®res actions √©chouent",
    "Divisions internes sur les priorit√©s"
  ]
};

const pourquoi = [
  "Parce que le gouvernement Arizona a d√©cid√© de LIMITER les allocations de ch√¥mage √† 24 MOIS maximum, mettant fin √† l'exception belge d'une couverture illimit√©e.",
  "Parce que la coalition veut r√©aliser 23 MILLIARDS D'√âCONOMIES d'ici 2029 pour respecter les contraintes europ√©ennes, et consid√®re la s√©curit√© sociale comme la principale VARIABLE D'AJUSTEMENT.",
  "Parce que l'ID√âOLOGIE DOMINANTE de l'activation postule que seule la suppression des allocations incitera les ch√¥meurs √† reprendre un emploi, IGNORANT les freins structurels.",
  "Parce que les PUBLICS PR√âCARIS√âS sont politiquement FAIBLES : peu organis√©s, stigmatis√©s comme 'profiteurs', isol√©s socialement ‚Äî une CIBLE FACILE.",
  "üéØ CAUSE RACINE : Le RAPPORT DE FORCE POLITIQUE est structurellement d√©favorable aux classes populaires. L'alternative budg√©taire existe (17 Md‚Ç¨ taxe millionnaires) mais N'EST PAS √Ä L'AGENDA. CE N'EST PAS UN PROBL√àME TECHNIQUE, C'EST UN CONFLIT DE CLASSE."
];

const smart_goals = [
  {letter: "S", title: "Obtenir un MORATOIRE sur les exclusions", desc: "Suspension officielle des vagues 2-3-4 par d√©cision gouvernementale ou judiciaire, d'ici le 1er mars 2026."},
  {letter: "M", title: "Documenter 1000 T√âMOIGNAGES", desc: "Base de donn√©es structur√©e avec consentement √©clair√©, publi√©e sur plateforme d√©di√©e, d'ici d√©cembre 2026."},
  {letter: "A", title: "Faire basculer 3-5 D√âPUT√âS", desc: "Vote d'un amendement supprimant le bonus-malus CPAS au budget 2027. Lobbying cibl√© Vooruit/Engag√©s."},
  {letter: "R", title: "Obtenir 100% de COMPENSATION CPAS", desc: "Amendement budg√©taire rempla√ßant le subside partiel (518‚Ç¨) par un remboursement int√©gral."},
  {letter: "T", title: "Mobiliser 50.000 PERSONNES", desc: "Manifestation nationale avant les vagues 3-4 (printemps 2026). Coordination front commun."}
];

const checklist = [
  {task: "Constituer le dossier juridique pour la Cour Constitutionnelle", phase: "avant", done: true},
  {task: "Identifier et briefer 10 t√©moins repr√©sentatifs", phase: "avant", done: true},
  {task: "Pr√©parer les argumentaires chiffr√©s (√©tudes DULBEA)", phase: "avant", done: true},
  {task: "Briefer les porte-parole syndicaux sur les √©l√©ments de langage", phase: "avant", done: false},
  {task: "Coordonner avec l'opposition parlementaire", phase: "avant", done: false},
  {task: "Pr√©parer le kit m√©dia (communiqu√©s, visuels, infographies)", phase: "avant", done: false},
  {task: "Contacter les journalistes cl√©s pour embargo pr√©-action", phase: "avant", done: false},
  {task: "Cadrer les prises de parole : focus dignit√© et donn√©es", phase: "pendant", done: false},
  {task: "Documenter l'action (photos, vid√©os, comptage)", phase: "pendant", done: false},
  {task: "Diffuser le compte-rendu aux partenaires dans les 24h", phase: "apres", done: false},
  {task: "Communiquer sur les avanc√©es vers les m√©dias", phase: "apres", done: false},
  {task: "Organiser un d√©briefing interne", phase: "apres", done: false}
];

const counter_discourses = [
  "¬´ Les r√©formes Arizona ne sont pas une 'activation'. C'est un <strong>glissement organis√©</strong> de la solidarit√© f√©d√©rale vers l'assistance locale. ¬ª",
  "¬´ 30 122 : c'est le nombre de familles qui basculeront vers l'aide sociale. Pas des chiffres. Des parents. Des enfants. <strong>Des vies.</strong> ¬ª",
  "¬´ Supprimer une allocation ne cr√©e pas d'emploi. Les freins r√©els : sant√©, √¢ge, mobilit√©, discrimination. <strong>Ce n'est pas de l'√©conomie, c'est de l'id√©ologie.</strong> ¬ª",
  "¬´ La taxe des millionnaires rapporterait 17 milliards ‚Ç¨. Mais on pr√©f√®re cibler les 90 000 ch√¥meurs les plus vuln√©rables. <strong>Question de priorit√©s.</strong> ¬ª",
  "¬´ Le syst√®me bonus-malus punit les communes d'√™tre pauvres. <strong>Double peine pour les territoires pr√©caris√©s.</strong> ¬ª",
  "¬´ 60% des invalides le sont √† cause des conditions de travail. La r√©forme sanctionne les victimes, pas les causes. ¬ª",
  "¬´ 1.5 million de syndiqu√©s, 140 000 manifestants, un recours constitutionnel. <strong>La r√©sistance est massive.</strong> ¬ª",
  "¬´ Apr√®s 24 mois ? Les CPAS. Et quand les CPAS n'auront plus les moyens ? <strong>La rue.</strong> ¬ª"
];

const timeline_events = [
  {date: "1 JAN 2026", title: "VAGUE 1 ‚Äî Les Anciens", desc: "Ch√¥meurs 3e p√©riode >20 ans", count: "~28,000 personnes", status: "past"},
  {date: "1 MARS 2026", title: "VAGUE 2 ‚Äî Le Gros ≈íuvre", desc: "Ch√¥meurs 3e p√©riode 8-20 ans", count: "~35,000 personnes", status: "active"},
  {date: "1 AVR 2026", title: "VAGUE 3 ‚Äî L'Avalanche", desc: "Ch√¥meurs 3e p√©riode <8 ans", count: "~27,000 personnes", status: "future"},
  {date: "1 JUIL 2026", title: "VAGUE 4 ‚Äî La Fin", desc: "Ch√¥meurs 2e p√©riode", count: "En √©valuation", status: "future"},
  {date: "FIN 2026", title: "‚öñÔ∏è COUR CONSTITUTIONNELLE", desc: "Arr√™t Article 23 attendu", count: "ESPOIR JURIDIQUE", status: "future"}
];

// ============================================================
// STATE
// ============================================================
let currentCard = 0;
let selectedActor = null;
let currentPlaidSection = 'vision';

// ============================================================
// INIT
// ============================================================
document.addEventListener('DOMContentLoaded', () => {
  initTabs();
  initPlaidoyer();
  renderActors();
  renderTimeline();
  renderQuickArguments();
  updateFlashcard();
});

// ============================================================
// TABS
// ============================================================
function initTabs() {
  document.querySelectorAll('.nav-tab').forEach(btn => {
    btn.addEventListener('click', () => showTab(btn.dataset.tab));
  });
}

function showTab(tabId) {
  document.querySelectorAll('.nav-tab').forEach(b => b.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(p => p.classList.remove('active'));
  document.querySelector(`[data-tab="${tabId}"]`)?.classList.add('active');
  document.getElementById('tab-' + tabId)?.classList.add('active');
}

// ============================================================
// PLAIDOYER
// ============================================================
function initPlaidoyer() {
  document.querySelectorAll('.plaid-nav-item').forEach(item => {
    item.addEventListener('click', () => {
      document.querySelectorAll('.plaid-nav-item').forEach(i => i.classList.remove('active'));
      item.classList.add('active');
      currentPlaidSection = item.dataset.section;
      renderPlaidSection(currentPlaidSection);
    });
  });
  renderPlaidSection('vision');
}

function renderPlaidSection(section) {
  const content = document.getElementById('plaidoyer-content');
  
  const sections = {
    vision: `
      <div class="plaid-card">
        <div class="plaid-card-header"><div class="plaid-card-title">üéØ Vision</div></div>
        <div class="plaid-card-body">
          <div class="detail-desc">
            <p><strong>D'ici fin 2027, obtenir par voie judiciaire et/ou politique :</strong></p>
            <ol style="margin: 16px 0 16px 20px; color: var(--text-soft);">
              <li>L'ANNULATION de la limitation des allocations de ch√¥mage √† 24 mois</li>
              <li>Une COMPENSATION INT√âGRALE des CPAS par le f√©d√©ral (100% du surco√ªt)</li>
              <li>L'ABANDON du syst√®me bonus-malus p√©nalisant les communes pauvres</li>
              <li>La SUPPRESSION des sanctions financi√®res (-2,5%) pour les malades</li>
              <li>Le MAINTIEN de la gratuit√© des m√©dicaments d'importance vitale</li>
            </ol>
            <p style="color: var(--mint); font-weight: 600;">Objectif ultime : Pr√©server le mod√®le social belge fond√© sur une logique assurantielle et de solidarit√© f√©d√©rale.</p>
          </div>
        </div>
      </div>
    `,
    swot: `
      <div class="plaid-card">
        <div class="plaid-card-header"><div class="plaid-card-title">üìä Analyse SWOT</div></div>
        <div class="plaid-card-body">
          <div class="swot-grid">
            <div class="swot-cell swot-strengths">
              <h4>üí™ Forces</h4>
              <ul class="swot-items">${swot.strengths.map(s => `<li class="swot-item">${s}</li>`).join('')}</ul>
            </div>
            <div class="swot-cell swot-weaknesses">
              <h4>‚ö†Ô∏è Faiblesses</h4>
              <ul class="swot-items">${swot.weaknesses.map(s => `<li class="swot-item">${s}</li>`).join('')}</ul>
            </div>
            <div class="swot-cell swot-opportunities">
              <h4>üåü Opportunit√©s</h4>
              <ul class="swot-items">${swot.opportunities.map(s => `<li class="swot-item">${s}</li>`).join('')}</ul>
            </div>
            <div class="swot-cell swot-threats">
              <h4>üî• Menaces</h4>
              <ul class="swot-items">${swot.threats.map(s => `<li class="swot-item">${s}</li>`).join('')}</ul>
            </div>
          </div>
        </div>
      </div>
    `,
    pourquoi: `
      <div class="plaid-card">
        <div class="plaid-card-header"><div class="plaid-card-title">‚ùì Les 5 Pourquoi ‚Äî Analyse Racine</div></div>
        <div class="plaid-card-body">
          <p style="margin-bottom: 20px; color: var(--muted);">Probl√®me : 90 000 personnes vont perdre leurs allocations et basculer vers l'aide sociale.</p>
          <div class="pourquoi-chain">
            ${pourquoi.map((p, i) => `
              <div class="pourquoi-item">
                <div class="pourquoi-number">${i < 4 ? i + 1 : 'üéØ'}</div>
                <div class="pourquoi-text">${p}</div>
              </div>
            `).join('')}
          </div>
        </div>
      </div>
    `,
    message: `
      <div class="plaid-card">
        <div class="plaid-card-header"><div class="plaid-card-title">üì¢ Message ‚Äî Accroche</div></div>
        <div class="plaid-card-body">
          <div class="message-box">
            <div class="message-accroche">
              ¬´ En Belgique, 90 000 personnes vont perdre leur allocation de ch√¥mage d'ici 2027.<br><br>
              Pas parce qu'elles ont trouv√© un emploi.<br>
              Mais parce qu'un gouvernement a d√©cid√© que 24 mois, c'√©tait assez.<br><br>
              Apr√®s ? Les CPAS.<br>
              Et quand les CPAS n'auront plus les moyens ?<br>
              <strong style="color: var(--coral);">La rue.</strong> ¬ª
            </div>
            <div class="message-hashtags">#StopArizona #Article23 #DigniteHumaine</div>
          </div>
          <div style="margin-top: 20px;">
            <p style="color: var(--muted); margin-bottom: 10px;">Variante statistique :</p>
            <p style="color: var(--text);">¬´ 30 122 : c'est le nombre de familles belges qui basculeront vers l'aide sociale d√®s 2026. Pas des chiffres. Des parents. Des enfants. Des vies. ¬ª</p>
          </div>
        </div>
      </div>
    `,
    arguments: `
      <div class="plaid-card">
        <div class="plaid-card-header"><div class="plaid-card-title">‚öîÔ∏è Argumentaire</div></div>
        <div class="plaid-card-body">
          <div class="arguments-grid">
            ${arguments_data.map(arg => `
              <div class="argument-card" onclick="copyArgumentText(this)">
                <div class="argument-tag">${arg.tag}</div>
                <div class="argument-title">${arg.title}</div>
                <div class="argument-content">${arg.content}</div>
                <div class="argument-source">üìé ${arg.source}</div>
              </div>
            `).join('')}
          </div>
        </div>
      </div>
    `,
    smart: `
      <div class="plaid-card">
        <div class="plaid-card-header"><div class="plaid-card-title">üéØ Objectifs SMART</div></div>
        <div class="plaid-card-body">
          <div class="smart-grid">
            ${smart_goals.map(g => `
              <div class="smart-item">
                <div class="smart-header">
                  <div class="smart-letter">${g.letter}</div>
                  <div class="smart-title">${g.title}</div>
                </div>
                <div class="smart-desc">${g.desc}</div>
              </div>
            `).join('')}
          </div>
        </div>
      </div>
    `,
    checklist: `
      <div class="plaid-card">
        <div class="plaid-card-header"><div class="plaid-card-title">‚úÖ Checklist d'Action</div></div>
        <div class="plaid-card-body">
          <div id="checklist-container">
            ${checklist.map((item, i) => `
              <div class="checklist-item" onclick="toggleCheck(${i})">
                <div class="check-box ${item.done ? 'checked' : ''}" id="check-${i}">${item.done ? '‚úì' : ''}</div>
                <div class="check-text ${item.done ? 'done' : ''}" id="text-${i}">${item.task}</div>
                <div class="check-phase phase-${item.phase}">${item.phase.toUpperCase()}</div>
              </div>
            `).join('')}
          </div>
        </div>
      </div>
    `
  };
  
  content.innerHTML = sections[section] || '<p>Section non trouv√©e</p>';
}

function toggleCheck(i) {
  checklist[i].done = !checklist[i].done;
  const box = document.getElementById('check-' + i);
  const text = document.getElementById('text-' + i);
  box.classList.toggle('checked');
  box.textContent = checklist[i].done ? '‚úì' : '';
  text.classList.toggle('done');
}

// ============================================================
// ACTORS
// ============================================================
function renderActors(filter = '') {
  const list = document.getElementById('actorsList');
  const filtered = filter ? actors.filter(a => a.position === filter) : actors;
  
  list.innerHTML = filtered.map(actor => `
    <div class="entity-item ${selectedActor?.name === actor.name ? 'selected' : ''}" onclick='selectActor(${JSON.stringify(actor).replace(/'/g, "\\'")})'>
      <div class="entity-name">${actor.name}</div>
      <div class="entity-role">${actor.role}</div>
      <div class="entity-meta">
        <span class="badge badge-${actor.position}">${actor.position === 'ally' ? '‚úÖ ALLI√â' : actor.position === 'opponent' ? '‚ùå ADVERSAIRE' : actor.position === 'target' ? 'üéØ CIBLE' : '‚öñÔ∏è NEUTRE'}</span>
      </div>
    </div>
  `).join('');
  
  document.getElementById('filterRole').onchange = (e) => renderActors(e.target.value);
}

function selectActor(actor) {
  selectedActor = actor;
  renderActors(document.getElementById('filterRole').value);
  
  document.getElementById('actorDetail').innerHTML = `
    <div class="detail-header">
      <div class="detail-title">${actor.name}</div>
      <div class="detail-subtitle">${actor.role}</div>
      <div class="detail-badges">
        <span class="badge badge-${actor.position}">${actor.position === 'ally' ? '‚úÖ ALLI√â' : actor.position === 'opponent' ? '‚ùå ADVERSAIRE' : actor.position === 'target' ? 'üéØ CIBLE' : '‚öñÔ∏è NEUTRE'}</span>
        <span class="badge" style="background: var(--gold-dim); color: var(--gold);">Pouvoir: ${actor.power}/5</span>
      </div>
    </div>
    <div class="detail-body">
      <div class="detail-section">
        <div class="detail-section-title">Description</div>
        <div class="detail-desc">${actor.desc}</div>
      </div>
    </div>
  `;
}

// ============================================================
// TIMELINE
// ============================================================
function renderTimeline() {
  const container = document.getElementById('full-timeline');
  container.innerHTML = timeline_events.map(event => `
    <div class="timeline-item">
      <div class="timeline-dot ${event.status}"></div>
      <div class="timeline-date">${event.date}</div>
      <div class="timeline-card">
        <div class="timeline-title">${event.title}</div>
        <div class="timeline-desc">${event.desc}</div>
        <div class="timeline-count">${event.count}</div>
      </div>
    </div>
  `).join('');
}

// ============================================================
// QUICK ARGUMENTS
// ============================================================
function renderQuickArguments() {
  const container = document.getElementById('quick-arguments');
  container.innerHTML = arguments_data.slice(0, 4).map(arg => `
    <div class="argument-card" onclick="copyArgumentText(this)">
      <div class="argument-tag">${arg.tag}</div>
      <div class="argument-title">${arg.title}</div>
      <div class="argument-content">${arg.content}</div>
    </div>
  `).join('');
}

// ============================================================
// FLASHCARDS
// ============================================================
function updateFlashcard() {
  document.getElementById('fc-question').textContent = flashcards[currentCard].q;
  document.getElementById('fc-answer').textContent = flashcards[currentCard].a;
  document.getElementById('fc-progress').textContent = `${currentCard + 1} / ${flashcards.length}`;
  document.getElementById('flashcard').classList.remove('flipped');
}

function flipCard() {
  document.getElementById('flashcard').classList.toggle('flipped');
}

function nextCard() {
  currentCard = (currentCard + 1) % flashcards.length;
  updateFlashcard();
}

function prevCard() {
  currentCard = (currentCard - 1 + flashcards.length) % flashcards.length;
  updateFlashcard();
}

// ============================================================
// TOOLS
// ============================================================
function generateCounterDiscourse() {
  const output = document.getElementById('generator-output');
  output.innerHTML = counter_discourses[Math.floor(Math.random() * counter_discourses.length)];
  output.style.animation = 'none';
  output.offsetHeight;
  output.style.animation = 'fadeIn 0.3s ease-out';
}

function copyArgumentText(el) {
  const text = el.querySelector('.argument-title').textContent + ': ' + el.querySelector('.argument-content').textContent;
  navigator.clipboard.writeText(text);
  showToast('Argument copi√© !', 'success');
}

function copyArgument() {
  const arg = arguments_data[Math.floor(Math.random() * arguments_data.length)];
  navigator.clipboard.writeText(arg.title + ': ' + arg.content);
  showToast('Argument copi√© !', 'success');
}

function generateTweet() {
  const tweets = [
    "90 000 personnes vont perdre leurs allocations d'ici 2027. Pas parce qu'elles ont trouv√© un emploi ‚Äî parce qu'un gouvernement a d√©cid√© que 24 mois suffisent. #StopArizona #Article23",
    "La taxe des millionnaires rapporterait 17 milliards ‚Ç¨. Mais on pr√©f√®re exclure 90 000 ch√¥meurs. Question de priorit√©s. #StopArizona",
    "30 122 familles basculeront vers l'aide sociale. Pas des chiffres. Des parents. Des enfants. Des vies. #StopArizona #DigniteHumaine"
  ];
  navigator.clipboard.writeText(tweets[Math.floor(Math.random() * tweets.length)]);
  showToast('Tweet copi√© !', 'success');
}

function exportData() {
  const data = {flashcards, actors, arguments: arguments_data, swot, pourquoi, smart_goals, checklist};
  const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'arizona-saloon-data.json';
  a.click();
  showToast('Donn√©es export√©es !', 'success');
}

function showToast(message, type = 'success') {
  const container = document.getElementById('toast-container');
  const toast = document.createElement('div');
  toast.className = `toast toast-${type}`;
  toast.innerHTML = `<span>${type === 'success' ? '‚úì' : '!'}</span> ${message}`;
  container.appendChild(toast);
  setTimeout(() => toast.remove(), 3000);
}

// ============================================================
// KEYBOARD
// ============================================================
document.addEventListener('keydown', (e) => {
  if (document.getElementById('tab-flashcards').classList.contains('active')) {
    if (e.key === 'ArrowRight') nextCard();
    if (e.key === 'ArrowLeft') prevCard();
    if (e.key === ' ') { e.preventDefault(); flipCard(); }
  }
  if (e.ctrlKey && e.key === 'k') {
    e.preventDefault();
    document.getElementById('globalSearch').focus();
  }
});

// ============================================================
// TERMINAL AUTO-UPDATE
// ============================================================
setInterval(() => {
  const terminal = document.getElementById('terminal');
  if (!terminal) return;
  const messages = [
    {text: 'ping solidarity_network... OK', cls: ''},
    {text: 'update resistance_status...', cls: ''},
    {text: 'monitoring vague_2_countdown...', cls: 'warning'},
    {text: 'syncing with front_commun...', cls: ''},
    {text: '¬´ La solidarit√© n\'est pas n√©gociable. ¬ª', cls: ''}
  ];
  const msg = messages[Math.floor(Math.random() * messages.length)];
  const line = document.createElement('div');
  line.className = 'terminal-line ' + msg.cls;
  line.textContent = msg.text;
  terminal.appendChild(line);
  terminal.scrollTop = terminal.scrollHeight;
  if (terminal.children.length > 12) terminal.removeChild(terminal.children[0]);
}, 6000);
</script>
</body>
</html>
