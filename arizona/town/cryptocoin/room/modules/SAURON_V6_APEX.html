<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SAURON V6 APEX - WORLD DOMINATION</title>
    
    <!-- PWA MANIFEST -->
    <meta name="theme-color" content="#050508">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="data:application/json,{&quot;name&quot;:&quot;SAURON APEX&quot;,&quot;short_name&quot;:&quot;SAURON&quot;,&quot;start_url&quot;:&quot;.&quot;,&quot;display&quot;:&quot;standalone&quot;,&quot;background_color&quot;:&quot;%23050508&quot;,&quot;theme_color&quot;:&quot;%23050508&quot;}">
    
    <!-- SOCIAL SHARING META -->
    <meta property="og:title" content="SAURON APEX - Join the Global Conquest">
    <meta property="og:description" content="I'm conquering the world of influence. Can you beat my score?">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;500;600;700&family=Cinzel:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <style>
        :root {
            --bg: #050508;
            --bg2: #0a0a12;
            --bg3: #12121f;
            --card: #1a1a2e;
            --cyan: #00ffff;
            --magenta: #ff00ff;
            --gold: #ffd700;
            --green: #00ff88;
            --orange: #ff6b35;
            --red: #ff3366;
            --purple: #9966ff;
            --blue: #3399ff;
            --legendary: linear-gradient(135deg, #ffd700, #ff6b35, #ff3366, #9966ff, #3399ff, #00ff88);
            --mythic: linear-gradient(135deg, #ff00ff, #00ffff, #ff00ff);
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--bg);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        /* SOUND TOGGLE */
        .sound-toggle {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 10001;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--card);
            border: 1px solid var(--cyan);
            color: var(--cyan);
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* INTRO SCREEN */
        .intro-screen {
            position: fixed;
            inset: 0;
            background: var(--bg);
            z-index: 20000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
        }
        .intro-screen.hidden { display: none; }
        .intro-logo {
            font-size: 8rem;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        .intro-title {
            font-family: 'Cinzel', serif;
            font-size: 3rem;
            background: var(--legendary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        .intro-subtitle {
            color: #888;
            font-size: 1.2rem;
            margin-bottom: 40px;
        }
        .intro-btn {
            padding: 20px 60px;
            background: var(--legendary);
            border: none;
            border-radius: 50px;
            font-family: 'Orbitron', monospace;
            font-size: 1.3rem;
            font-weight: bold;
            color: #000;
            cursor: pointer;
            animation: pulse-btn 2s infinite;
        }
        @keyframes pulse-btn {
            0%, 100% { transform: scale(1); box-shadow: 0 0 30px rgba(255,215,0,0.5); }
            50% { transform: scale(1.05); box-shadow: 0 0 50px rgba(255,215,0,0.8); }
        }
        .intro-stats {
            margin-top: 40px;
            display: flex;
            gap: 40px;
        }
        .intro-stat {
            text-align: center;
        }
        .intro-stat-value {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            color: var(--cyan);
        }
        .intro-stat-label {
            font-size: 0.8rem;
            color: #666;
        }

        /* PARTICLES */
        #particles {
            position: fixed;
            inset: 0;
            z-index: -1;
            pointer-events: none;
            overflow: hidden;
        }
        .particle {
            position: absolute;
            border-radius: 50%;
            opacity: 0.4;
            animation: rise 15s infinite linear;
        }
        @keyframes rise {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            10% { opacity: 0.4; }
            90% { opacity: 0.4; }
            100% { transform: translateY(-100vh) scale(1); opacity: 0; }
        }

        /* HEADER */
        header {
            background: linear-gradient(180deg, var(--bg2), transparent);
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            border-bottom: 1px solid rgba(0,255,255,0.2);
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(15px);
        }
        .avatar-wrap {
            position: relative;
            width: 55px;
            height: 55px;
            cursor: pointer;
        }
        .avatar-ring {
            position: absolute;
            inset: -3px;
            border-radius: 50%;
            background: var(--legendary);
            animation: spin 4s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        .avatar-inner {
            position: absolute;
            inset: 3px;
            background: var(--card);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            z-index: 1;
        }
        .player-info { flex: 1; }
        .player-name {
            font-family: 'Cinzel', serif;
            font-size: 1.1rem;
            color: var(--gold);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .vip-badge {
            background: var(--mythic);
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.65rem;
            font-family: 'Orbitron';
            color: #000;
            font-weight: bold;
        }
        .player-guild {
            font-size: 0.75rem;
            color: var(--cyan);
        }
        .xp-mini {
            height: 6px;
            background: var(--bg3);
            border-radius: 3px;
            margin-top: 5px;
            overflow: hidden;
        }
        .xp-mini-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--cyan), var(--green));
            border-radius: 3px;
        }
        .header-resources {
            display: flex;
            gap: 10px;
        }
        .h-res {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 5px 10px;
            background: var(--card);
            border-radius: 15px;
            font-family: 'Orbitron', monospace;
            font-size: 0.8rem;
        }
        .h-res.gems { color: var(--cyan); }
        .h-res.energy { color: var(--magenta); }
        .h-res.coins { color: var(--gold); }
        .h-res-add {
            width: 18px;
            height: 18px;
            background: var(--green);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            color: #000;
            font-weight: bold;
            cursor: pointer;
            margin-left: 3px;
        }

        /* BOTTOM NAV (Mobile-first) */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--bg2);
            border-top: 1px solid rgba(0,255,255,0.2);
            display: flex;
            justify-content: space-around;
            padding: 8px 5px 12px;
            z-index: 1000;
        }
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 3px;
            background: none;
            border: none;
            color: #666;
            font-size: 0.65rem;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 10px;
            transition: all 0.3s;
            position: relative;
        }
        .nav-item:hover, .nav-item.active { color: var(--cyan); background: rgba(0,255,255,0.1); }
        .nav-item .icon { font-size: 1.4rem; }
        .nav-item .badge {
            position: absolute;
            top: 0;
            right: 5px;
            background: var(--red);
            color: #fff;
            font-size: 0.6rem;
            padding: 2px 5px;
            border-radius: 8px;
            font-weight: bold;
        }
        .nav-item.center-action {
            margin-top: -25px;
            background: var(--legendary);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            color: #000;
            box-shadow: 0 0 20px rgba(255,215,0,0.5);
        }
        .nav-item.center-action .icon { font-size: 1.8rem; }

        /* MAIN */
        main {
            padding: 15px 15px 90px;
            max-width: 1400px;
            margin: 0 auto;
        }
        .screen { display: none; animation: fadeIn 0.3s; }
        .screen.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } }

        /* BATTLE PASS */
        .battle-pass {
            background: linear-gradient(135deg, rgba(153,102,255,0.2), rgba(0,255,255,0.1));
            border: 1px solid var(--purple);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            cursor: pointer;
        }
        .bp-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .bp-title {
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
            color: var(--gold);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .bp-tier {
            font-family: 'Orbitron', monospace;
            font-size: 1.2rem;
            color: var(--cyan);
        }
        .bp-progress {
            height: 8px;
            background: var(--bg3);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        .bp-fill {
            height: 100%;
            background: var(--legendary);
            border-radius: 4px;
        }
        .bp-rewards {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding-bottom: 5px;
        }
        .bp-reward {
            min-width: 50px;
            height: 50px;
            background: var(--bg3);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            border: 2px solid transparent;
            position: relative;
        }
        .bp-reward.current { border-color: var(--cyan); }
        .bp-reward.claimed { opacity: 0.5; }
        .bp-reward.claimed::after {
            content: '‚úì';
            position: absolute;
            inset: 0;
            background: rgba(0,255,136,0.8);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-weight: bold;
        }
        .bp-reward.premium {
            background: linear-gradient(135deg, var(--purple), var(--magenta));
        }

        /* DAILY WHEEL */
        .daily-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }
        .daily-card {
            background: var(--card);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }
        .daily-card:hover { transform: translateY(-3px); border-color: var(--cyan); }
        .daily-card.available { border-color: var(--gold); animation: glow 2s infinite; }
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 10px rgba(255,215,0,0.3); }
            50% { box-shadow: 0 0 25px rgba(255,215,0,0.6); }
        }
        .daily-icon { font-size: 2.5rem; margin-bottom: 8px; }
        .daily-title { font-weight: 600; font-size: 0.9rem; margin-bottom: 3px; }
        .daily-desc { font-size: 0.75rem; color: #888; }
        .daily-timer {
            position: absolute;
            top: 8px;
            right: 8px;
            font-size: 0.65rem;
            color: var(--cyan);
            font-family: 'Orbitron', monospace;
        }

        /* GACHA / LOOT BOX */
        .gacha-section {
            background: var(--card);
            border-radius: 20px;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }
        .gacha-section::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 50% 0%, rgba(255,215,0,0.1), transparent 70%);
        }
        .gacha-title {
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
            color: var(--gold);
            margin-bottom: 5px;
        }
        .gacha-subtitle {
            color: #888;
            font-size: 0.85rem;
            margin-bottom: 20px;
        }
        .gacha-boxes {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        .gacha-box {
            width: 100px;
            height: 100px;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        .gacha-box:hover { transform: scale(1.1) rotate(5deg); }
        .gacha-box.common { background: linear-gradient(135deg, #444, #666); }
        .gacha-box.rare { background: linear-gradient(135deg, var(--blue), var(--cyan)); }
        .gacha-box.epic { background: linear-gradient(135deg, var(--purple), var(--magenta)); }
        .gacha-box.legendary { background: var(--legendary); animation: legendary-glow 2s infinite; }
        @keyframes legendary-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(255,215,0,0.5); }
            50% { box-shadow: 0 0 40px rgba(255,215,0,0.8), 0 0 60px rgba(255,107,53,0.5); }
        }
        .gacha-box-icon { font-size: 2.5rem; }
        .gacha-box-price {
            font-family: 'Orbitron', monospace;
            font-size: 0.75rem;
            margin-top: 5px;
        }
        .gacha-rates {
            font-size: 0.7rem;
            color: #666;
        }

        /* GUILD SECTION */
        .guild-card {
            background: var(--card);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .guild-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        .guild-emblem {
            width: 70px;
            height: 70px;
            background: var(--legendary);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
        }
        .guild-name {
            font-family: 'Cinzel', serif;
            font-size: 1.4rem;
        }
        .guild-tag {
            font-size: 0.8rem;
            color: var(--cyan);
        }
        .guild-level {
            font-size: 0.8rem;
            color: var(--gold);
        }
        .guild-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        .guild-stat {
            text-align: center;
            padding: 10px;
            background: var(--bg3);
            border-radius: 10px;
        }
        .guild-stat-value {
            font-family: 'Orbitron', monospace;
            font-size: 1.2rem;
            color: var(--cyan);
        }
        .guild-stat-label {
            font-size: 0.7rem;
            color: #888;
        }
        .guild-members {
            display: flex;
            gap: -10px;
        }
        .guild-member {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: var(--bg3);
            border: 2px solid var(--bg);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: -8px;
        }
        .guild-member:first-child { margin-left: 0; }
        .guild-more {
            background: var(--purple);
            font-size: 0.7rem;
            font-weight: bold;
        }

        /* PVP ARENA */
        .pvp-section {
            background: linear-gradient(135deg, rgba(255,51,102,0.2), rgba(255,0,255,0.1));
            border: 1px solid var(--red);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .pvp-header {
            text-align: center;
            margin-bottom: 20px;
        }
        .pvp-title {
            font-family: 'Cinzel', serif;
            font-size: 1.8rem;
            color: var(--red);
            text-shadow: 0 0 20px rgba(255,51,102,0.5);
        }
        .pvp-subtitle {
            color: #888;
            font-size: 0.85rem;
        }
        .pvp-matchup {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        .pvp-player {
            text-align: center;
        }
        .pvp-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--card);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            margin-bottom: 8px;
            border: 3px solid var(--cyan);
        }
        .pvp-avatar.enemy { border-color: var(--red); }
        .pvp-player-name { font-weight: 600; }
        .pvp-player-power {
            font-family: 'Orbitron', monospace;
            font-size: 0.8rem;
            color: var(--gold);
        }
        .pvp-vs {
            font-family: 'Cinzel', serif;
            font-size: 2rem;
            color: var(--red);
            text-shadow: 0 0 20px rgba(255,51,102,0.8);
        }
        .pvp-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, var(--red), var(--magenta));
            border: none;
            border-radius: 30px;
            font-family: 'Orbitron', monospace;
            font-size: 1.1rem;
            color: #fff;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        .pvp-btn:hover { transform: scale(1.02); box-shadow: 0 0 30px rgba(255,51,102,0.5); }

        /* REFERRAL SYSTEM */
        .referral-card {
            background: linear-gradient(135deg, rgba(0,255,136,0.2), rgba(0,255,255,0.1));
            border: 1px solid var(--green);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
        }
        .referral-title {
            font-family: 'Orbitron', monospace;
            color: var(--green);
            margin-bottom: 10px;
        }
        .referral-code {
            background: var(--bg3);
            padding: 15px 25px;
            border-radius: 10px;
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            letter-spacing: 3px;
            margin-bottom: 15px;
            display: inline-block;
            cursor: pointer;
            border: 2px dashed var(--green);
        }
        .referral-rewards {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 15px;
        }
        .referral-reward {
            text-align: center;
        }
        .referral-reward-icon { font-size: 2rem; }
        .referral-reward-text { font-size: 0.8rem; color: #888; }
        .referral-progress {
            background: var(--bg3);
            border-radius: 10px;
            padding: 10px;
        }
        .referral-count {
            font-family: 'Orbitron', monospace;
            color: var(--cyan);
        }

        /* SHARE CARD */
        .share-card-preview {
            background: var(--card);
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            margin-bottom: 20px;
            border: 2px solid var(--gold);
            position: relative;
            overflow: hidden;
        }
        .share-card-preview::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 30% 20%, rgba(255,215,0,0.1), transparent 50%),
                        radial-gradient(circle at 70% 80%, rgba(0,255,255,0.1), transparent 50%);
        }
        .share-card-logo { font-size: 4rem; margin-bottom: 10px; }
        .share-card-name {
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
            color: var(--gold);
        }
        .share-card-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 20px 0;
        }
        .share-stat {
            text-align: center;
        }
        .share-stat-value {
            font-family: 'Orbitron', monospace;
            font-size: 1.8rem;
            color: var(--cyan);
        }
        .share-stat-label {
            font-size: 0.75rem;
            color: #888;
        }
        .share-qr {
            width: 120px;
            height: 120px;
            background: #fff;
            margin: 15px auto;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.6rem;
            color: #000;
        }
        .share-btns {
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        .share-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-family: 'Rajdhani';
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .share-btn.twitter { background: #1DA1F2; color: #fff; }
        .share-btn.whatsapp { background: #25D366; color: #fff; }
        .share-btn.copy { background: var(--card); color: var(--cyan); border: 1px solid var(--cyan); }

        /* WORLD MAP LEADERBOARD */
        .world-section {
            margin-bottom: 20px;
        }
        .world-title {
            font-family: 'Cinzel', serif;
            font-size: 1.5rem;
            color: var(--gold);
            text-align: center;
            margin-bottom: 15px;
        }
        #worldMap {
            height: 300px;
            border-radius: 15px;
            border: 2px solid rgba(0,255,255,0.3);
            margin-bottom: 15px;
        }
        .country-leaders {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 10px;
        }
        .country-leader {
            background: var(--card);
            border-radius: 12px;
            padding: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .country-flag { font-size: 1.8rem; }
        .country-info { flex: 1; }
        .country-name { font-size: 0.8rem; color: #888; }
        .country-player { font-weight: 600; font-size: 0.9rem; }
        .country-score {
            font-family: 'Orbitron', monospace;
            font-size: 0.75rem;
            color: var(--cyan);
        }

        /* COLLECTION / ACHIEVEMENTS */
        .collection-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }
        .collection-item {
            aspect-ratio: 1;
            background: var(--card);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            position: relative;
        }
        .collection-item:hover { transform: scale(1.1); }
        .collection-item.owned { border-color: var(--cyan); }
        .collection-item.locked { opacity: 0.4; filter: grayscale(1); }
        .collection-item.legendary { border-color: var(--gold); box-shadow: 0 0 15px rgba(255,215,0,0.3); }
        .collection-icon { font-size: 2rem; }
        .collection-rarity {
            position: absolute;
            bottom: 5px;
            font-size: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .collection-rarity.common { color: #888; }
        .collection-rarity.rare { color: var(--blue); }
        .collection-rarity.epic { color: var(--purple); }
        .collection-rarity.legendary { color: var(--gold); }

        /* SEASONAL EVENT */
        .seasonal-banner {
            background: linear-gradient(135deg, rgba(255,215,0,0.3), rgba(255,107,53,0.2));
            border: 2px solid var(--gold);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        .seasonal-banner::before {
            content: 'üéÑ';
            position: absolute;
            top: -20px;
            left: -20px;
            font-size: 8rem;
            opacity: 0.1;
        }
        .seasonal-title {
            font-family: 'Cinzel', serif;
            font-size: 1.8rem;
            background: var(--legendary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .seasonal-timer {
            font-family: 'Orbitron', monospace;
            font-size: 1.5rem;
            color: var(--red);
            margin: 10px 0;
        }
        .seasonal-rewards {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }
        .seasonal-reward {
            padding: 10px 20px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            font-size: 1.5rem;
        }

        /* CHAT */
        .chat-section {
            background: var(--card);
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        .chat-header {
            background: var(--bg3);
            padding: 12px 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .chat-title { font-weight: 600; flex: 1; }
        .chat-online {
            font-size: 0.75rem;
            color: var(--green);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .chat-online::before {
            content: '';
            width: 8px;
            height: 8px;
            background: var(--green);
            border-radius: 50%;
        }
        .chat-messages {
            height: 200px;
            overflow-y: auto;
            padding: 15px;
        }
        .chat-msg {
            margin-bottom: 12px;
            display: flex;
            gap: 10px;
        }
        .chat-msg-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: var(--bg3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            flex-shrink: 0;
        }
        .chat-msg-content { flex: 1; }
        .chat-msg-name {
            font-size: 0.8rem;
            color: var(--cyan);
            margin-bottom: 2px;
        }
        .chat-msg-text { font-size: 0.9rem; }
        .chat-input-wrap {
            display: flex;
            gap: 10px;
            padding: 10px 15px;
            background: var(--bg3);
        }
        .chat-input {
            flex: 1;
            background: var(--bg);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 10px 15px;
            color: #fff;
            font-family: 'Rajdhani';
        }
        .chat-send {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--cyan);
            border: none;
            color: #000;
            font-size: 1.2rem;
            cursor: pointer;
        }

        /* TRADING */
        .trade-section {
            background: var(--card);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .trade-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        .trade-title {
            font-family: 'Orbitron', monospace;
            color: var(--gold);
        }
        .trade-list { display: flex; flex-direction: column; gap: 10px; }
        .trade-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: var(--bg3);
            border-radius: 12px;
        }
        .trade-item-icon { font-size: 2rem; }
        .trade-item-info { flex: 1; }
        .trade-item-name { font-weight: 600; }
        .trade-item-seller { font-size: 0.8rem; color: #888; }
        .trade-item-price {
            font-family: 'Orbitron', monospace;
            color: var(--gold);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .trade-buy-btn {
            padding: 8px 15px;
            background: var(--green);
            border: none;
            border-radius: 15px;
            color: #000;
            font-weight: bold;
            cursor: pointer;
        }

        /* NOTIFICATIONS */
        .notif-popup {
            position: fixed;
            top: 80px;
            right: 20px;
            background: var(--card);
            border: 1px solid var(--cyan);
            border-radius: 15px;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            z-index: 9999;
            animation: slideIn 0.5s, slideOut 0.5s 4.5s forwards;
            max-width: 320px;
        }
        @keyframes slideIn { from { transform: translateX(120%); } }
        @keyframes slideOut { to { transform: translateX(120%); opacity: 0; } }
        .notif-icon { font-size: 2rem; }
        .notif-content { flex: 1; }
        .notif-title { font-weight: 600; }
        .notif-msg { font-size: 0.85rem; color: #888; }

        /* GACHA ANIMATION */
        .gacha-reveal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.95);
            z-index: 20000;
            display: none;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        .gacha-reveal.active { display: flex; }
        .gacha-reveal-box {
            width: 150px;
            height: 150px;
            background: var(--legendary);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            animation: gacha-shake 0.5s, gacha-open 1s 0.5s forwards;
        }
        @keyframes gacha-shake {
            0%, 100% { transform: rotate(0); }
            25% { transform: rotate(-10deg); }
            75% { transform: rotate(10deg); }
        }
        @keyframes gacha-open {
            0% { transform: scale(1); }
            50% { transform: scale(1.5); }
            100% { transform: scale(1); opacity: 1; }
        }
        .gacha-result {
            margin-top: 30px;
            text-align: center;
            animation: fadeIn 0.5s 1.5s both;
        }
        .gacha-result-rarity {
            font-family: 'Orbitron', monospace;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            margin-bottom: 10px;
        }
        .gacha-result-rarity.legendary { color: var(--gold); }
        .gacha-result-rarity.epic { color: var(--purple); }
        .gacha-result-rarity.rare { color: var(--blue); }
        .gacha-result-name {
            font-family: 'Cinzel', serif;
            font-size: 1.8rem;
        }
        .gacha-close {
            margin-top: 30px;
            padding: 12px 40px;
            background: var(--cyan);
            border: none;
            border-radius: 25px;
            font-family: 'Rajdhani';
            font-weight: bold;
            color: #000;
            cursor: pointer;
            animation: fadeIn 0.5s 2s both;
        }

        /* LANGUAGE SELECTOR */
        .lang-selector {
            position: fixed;
            bottom: 80px;
            right: 15px;
            z-index: 999;
        }
        .lang-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: var(--card);
            border: 1px solid var(--cyan);
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .lang-menu {
            position: absolute;
            bottom: 55px;
            right: 0;
            background: var(--card);
            border: 1px solid var(--cyan);
            border-radius: 15px;
            padding: 10px;
            display: none;
        }
        .lang-menu.open { display: block; }
        .lang-option {
            padding: 8px 15px;
            cursor: pointer;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
        }
        .lang-option:hover { background: var(--bg3); }

        /* BUTTONS */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-family: 'Rajdhani';
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        .btn-primary { background: linear-gradient(135deg, var(--cyan), var(--blue)); color: #000; }
        .btn-gold { background: var(--legendary); color: #000; }
        .btn:hover { transform: scale(1.05); }

        /* SCROLLBAR */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: var(--bg); }
        ::-webkit-scrollbar-thumb { background: var(--cyan); border-radius: 3px; }

        /* RESPONSIVE */
        @media (min-width: 768px) {
            .bottom-nav { display: none; }
            main { padding-bottom: 20px; }
        }
    </style>
</head>
<body>

    <!-- INTRO SCREEN -->
    <div class="intro-screen" id="introScreen">
        <div class="intro-logo">üëÅÔ∏è</div>
        <h1 class="intro-title">SAURON APEX</h1>
        <p class="intro-subtitle">World Domination Awaits</p>
        <button class="intro-btn" onclick="startGame()">‚ö° COMMENCER</button>
        <div class="intro-stats">
            <div class="intro-stat">
                <div class="intro-stat-value" id="totalPlayers">1,247,893</div>
                <div class="intro-stat-label">Joueurs Mondiaux</div>
            </div>
            <div class="intro-stat">
                <div class="intro-stat-value">üåç 142</div>
                <div class="intro-stat-label">Pays</div>
            </div>
            <div class="intro-stat">
                <div class="intro-stat-value">‚öîÔ∏è 24/7</div>
                <div class="intro-stat-label">Batailles Live</div>
            </div>
        </div>
    </div>

    <!-- SOUND TOGGLE -->
    <button class="sound-toggle" id="soundToggle" onclick="toggleSound()">üîä</button>

    <!-- PARTICLES -->
    <div id="particles"></div>

    <!-- HEADER -->
    <header>
        <div class="avatar-wrap" onclick="showProfile()">
            <div class="avatar-ring"></div>
            <div class="avatar-inner" id="avatar">üëÅÔ∏è</div>
        </div>
        <div class="player-info">
            <div class="player-name">
                <span id="playerName">Agent Omega</span>
                <span class="vip-badge" id="vipBadge">VIP 3</span>
            </div>
            <div class="player-guild" id="playerGuild">‚öîÔ∏è Shadow Legion</div>
            <div class="xp-mini">
                <div class="xp-mini-fill" id="xpBar" style="width: 45%"></div>
            </div>
        </div>
        <div class="header-resources">
            <div class="h-res gems">üíé <span id="gems">2,450</span><span class="h-res-add" onclick="showShop()">+</span></div>
            <div class="h-res energy">‚ö° <span id="energy">47</span>/50</div>
            <div class="h-res coins">ü™ô <span id="coins">125K</span></div>
        </div>
    </header>

    <!-- MAIN CONTENT -->
    <main>
        <!-- HOME SCREEN -->
        <div class="screen active" id="screen-home">
            
            <!-- SEASONAL EVENT BANNER -->
            <div class="seasonal-banner">
                <div class="seasonal-title">üéÑ WINTER CONQUEST üéÑ</div>
                <div class="seasonal-timer" id="seasonalTimer">6j 14h 32m</div>
                <p style="color: #888; font-size: 0.9rem;">√âv√©nement limit√© - R√©compenses exclusives!</p>
                <div class="seasonal-rewards">
                    <div class="seasonal-reward">üëë</div>
                    <div class="seasonal-reward">üêâ</div>
                    <div class="seasonal-reward">üíéx1000</div>
                </div>
            </div>

            <!-- BATTLE PASS -->
            <div class="battle-pass" onclick="showBattlePass()">
                <div class="bp-header">
                    <div class="bp-title">üèÜ BATTLE PASS - Saison 7</div>
                    <div class="bp-tier">Tier <span id="bpTier">23</span>/100</div>
                </div>
                <div class="bp-progress">
                    <div class="bp-fill" style="width: 23%"></div>
                </div>
                <div class="bp-rewards">
                    <div class="bp-reward claimed">ü™ô</div>
                    <div class="bp-reward claimed">üì¶</div>
                    <div class="bp-reward current">üëë</div>
                    <div class="bp-reward">üíé</div>
                    <div class="bp-reward premium">üêâ</div>
                    <div class="bp-reward">‚ö°</div>
                    <div class="bp-reward premium">üëÅÔ∏è</div>
                </div>
            </div>

            <!-- DAILY REWARDS -->
            <div class="daily-section">
                <div class="daily-card available" onclick="claimDaily('wheel')">
                    <div class="daily-timer">PR√äT!</div>
                    <div class="daily-icon">üé°</div>
                    <div class="daily-title">Roue Quotidienne</div>
                    <div class="daily-desc">Tournez pour gagner!</div>
                </div>
                <div class="daily-card" onclick="claimDaily('chest')">
                    <div class="daily-timer">04:32:15</div>
                    <div class="daily-icon">üì¶</div>
                    <div class="daily-title">Coffre Gratuit</div>
                    <div class="daily-desc">Toutes les 4h</div>
                </div>
                <div class="daily-card available" onclick="claimDaily('ad')">
                    <div class="daily-timer">3/5</div>
                    <div class="daily-icon">üé¨</div>
                    <div class="daily-title">Bonus Pub</div>
                    <div class="daily-desc">+50üíé par vid√©o</div>
                </div>
                <div class="daily-card" onclick="claimDaily('quest')">
                    <div class="daily-timer">2/3</div>
                    <div class="daily-icon">üìã</div>
                    <div class="daily-title">Qu√™tes Daily</div>
                    <div class="daily-desc">R√©compenses x3</div>
                </div>
            </div>

            <!-- GACHA SECTION -->
            <div class="gacha-section">
                <div class="gacha-title">‚ú® INVOCATION ‚ú®</div>
                <div class="gacha-subtitle">Invoquez des h√©ros l√©gendaires!</div>
                <div class="gacha-boxes">
                    <div class="gacha-box common" onclick="pullGacha('common')">
                        <div class="gacha-box-icon">üì¶</div>
                        <div class="gacha-box-price">ü™ô 1000</div>
                    </div>
                    <div class="gacha-box rare" onclick="pullGacha('rare')">
                        <div class="gacha-box-icon">üí†</div>
                        <div class="gacha-box-price">üíé 100</div>
                    </div>
                    <div class="gacha-box epic" onclick="pullGacha('epic')">
                        <div class="gacha-box-icon">üîÆ</div>
                        <div class="gacha-box-price">üíé 500</div>
                    </div>
                    <div class="gacha-box legendary" onclick="pullGacha('legendary')">
                        <div class="gacha-box-icon">üëë</div>
                        <div class="gacha-box-price">üíé 2000</div>
                    </div>
                </div>
                <div class="gacha-rates">Taux: ‚≠ê 60% | ‚≠ê‚≠ê 30% | ‚≠ê‚≠ê‚≠ê 8% | ‚≠ê‚≠ê‚≠ê‚≠ê 1.9% | üëë 0.1%</div>
            </div>

            <!-- PVP ARENA -->
            <div class="pvp-section">
                <div class="pvp-header">
                    <div class="pvp-title">‚öîÔ∏è AR√àNE PVP ‚öîÔ∏è</div>
                    <div class="pvp-subtitle">Affrontez des joueurs du monde entier!</div>
                </div>
                <div class="pvp-matchup">
                    <div class="pvp-player">
                        <div class="pvp-avatar">üëÅÔ∏è</div>
                        <div class="pvp-player-name" id="pvpYou">Vous</div>
                        <div class="pvp-player-power">‚öîÔ∏è 15,432</div>
                    </div>
                    <div class="pvp-vs">VS</div>
                    <div class="pvp-player">
                        <div class="pvp-avatar enemy">üêâ</div>
                        <div class="pvp-player-name">DragonSlayer</div>
                        <div class="pvp-player-power">‚öîÔ∏è 14,876</div>
                    </div>
                </div>
                <button class="pvp-btn" onclick="startPvP()">‚öîÔ∏è COMBATTRE (-5‚ö°)</button>
            </div>

            <!-- GUILD -->
            <div class="guild-card">
                <div class="guild-header">
                    <div class="guild-emblem">ü¶Ö</div>
                    <div>
                        <div class="guild-name">Shadow Legion</div>
                        <div class="guild-tag">[SHDW] ‚Ä¢ Top 50 Mondial</div>
                        <div class="guild-level">‚≠ê Niveau 47</div>
                    </div>
                </div>
                <div class="guild-stats">
                    <div class="guild-stat">
                        <div class="guild-stat-value">48</div>
                        <div class="guild-stat-label">Membres</div>
                    </div>
                    <div class="guild-stat">
                        <div class="guild-stat-value">2.4M</div>
                        <div class="guild-stat-label">Puissance</div>
                    </div>
                    <div class="guild-stat">
                        <div class="guild-stat-value">#47</div>
                        <div class="guild-stat-label">Rang</div>
                    </div>
                    <div class="guild-stat">
                        <div class="guild-stat-value">üèÜ 12</div>
                        <div class="guild-stat-label">Victoires</div>
                    </div>
                </div>
                <div class="guild-members">
                    <div class="guild-member">üëë</div>
                    <div class="guild-member">ü¶Ö</div>
                    <div class="guild-member">üêâ</div>
                    <div class="guild-member">ü¶ä</div>
                    <div class="guild-member">üê∫</div>
                    <div class="guild-member guild-more">+43</div>
                </div>
            </div>

            <!-- CHAT -->
            <div class="chat-section">
                <div class="chat-header">
                    <span style="font-size: 1.2rem;">üí¨</span>
                    <span class="chat-title">Chat Global</span>
                    <span class="chat-online">1,247 en ligne</span>
                </div>
                <div class="chat-messages" id="chatMessages">
                    <div class="chat-msg">
                        <div class="chat-msg-avatar">üêâ</div>
                        <div class="chat-msg-content">
                            <div class="chat-msg-name">DragonSlayer</div>
                            <div class="chat-msg-text">Anyone for guild war? üî•</div>
                        </div>
                    </div>
                    <div class="chat-msg">
                        <div class="chat-msg-avatar">ü¶ä</div>
                        <div class="chat-msg-content">
                            <div class="chat-msg-name">FoxHunter</div>
                            <div class="chat-msg-text">Just got a legendary! üëë</div>
                        </div>
                    </div>
                    <div class="chat-msg">
                        <div class="chat-msg-avatar">‚öîÔ∏è</div>
                        <div class="chat-msg-content">
                            <div class="chat-msg-name">WarMaster</div>
                            <div class="chat-msg-text">GG! Which one?</div>
                        </div>
                    </div>
                </div>
                <div class="chat-input-wrap">
                    <input type="text" class="chat-input" placeholder="Envoyer un message..." id="chatInput">
                    <button class="chat-send" onclick="sendChat()">‚û§</button>
                </div>
            </div>
        </div>

        <!-- WORLD MAP SCREEN -->
        <div class="screen" id="screen-world">
            <div class="world-section">
                <h2 class="world-title">üåç Classement Mondial</h2>
                <div id="worldMap"></div>
                <div class="country-leaders">
                    <div class="country-leader">
                        <div class="country-flag">üá´üá∑</div>
                        <div class="country-info">
                            <div class="country-name">France</div>
                            <div class="country-player">DarkLord_FR</div>
                        </div>
                        <div class="country-score">2.1M</div>
                    </div>
                    <div class="country-leader">
                        <div class="country-flag">üáßüá™</div>
                        <div class="country-info">
                            <div class="country-name">Belgique</div>
                            <div class="country-player">SauronBE</div>
                        </div>
                        <div class="country-score">1.8M</div>
                    </div>
                    <div class="country-leader">
                        <div class="country-flag">üá∫üá∏</div>
                        <div class="country-info">
                            <div class="country-name">USA</div>
                            <div class="country-player">EagleEye</div>
                        </div>
                        <div class="country-score">3.2M</div>
                    </div>
                    <div class="country-leader">
                        <div class="country-flag">üáØüáµ</div>
                        <div class="country-info">
                            <div class="country-name">Japon</div>
                            <div class="country-player">SamuraiX</div>
                        </div>
                        <div class="country-score">2.9M</div>
                    </div>
                    <div class="country-leader">
                        <div class="country-flag">üáßüá∑</div>
                        <div class="country-info">
                            <div class="country-name">Br√©sil</div>
                            <div class="country-player">JaguarKing</div>
                        </div>
                        <div class="country-score">1.5M</div>
                    </div>
                    <div class="country-leader">
                        <div class="country-flag">üá∞üá∑</div>
                        <div class="country-info">
                            <div class="country-name">Cor√©e</div>
                            <div class="country-player">StarCraft99</div>
                        </div>
                        <div class="country-score">2.7M</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- COLLECTION SCREEN -->
        <div class="screen" id="screen-collection">
            <h2 style="font-family: 'Cinzel'; color: var(--gold); text-align: center; margin-bottom: 20px;">üìö Collection</h2>
            <div style="text-align: center; margin-bottom: 20px; color: #888;">32/120 Collect√©s</div>
            <div class="collection-grid" id="collectionGrid">
                <!-- Filled by JS -->
            </div>
        </div>

        <!-- TRADING SCREEN -->
        <div class="screen" id="screen-trade">
            <div class="trade-section">
                <div class="trade-header">
                    <div class="trade-title">üîÑ March√© aux √âchanges</div>
                    <button class="btn btn-primary" onclick="createListing()">+ Vendre</button>
                </div>
                <div class="trade-list" id="tradeList">
                    <div class="trade-item">
                        <div class="trade-item-icon">üêâ</div>
                        <div class="trade-item-info">
                            <div class="trade-item-name">Dragon de Feu</div>
                            <div class="trade-item-seller">par FoxHunter</div>
                        </div>
                        <div class="trade-item-price">üíé 5,000</div>
                        <button class="trade-buy-btn" onclick="buyTrade('dragon')">Acheter</button>
                    </div>
                    <div class="trade-item">
                        <div class="trade-item-icon">‚öîÔ∏è</div>
                        <div class="trade-item-info">
                            <div class="trade-item-name">√âp√©e L√©gendaire</div>
                            <div class="trade-item-seller">par WarMaster</div>
                        </div>
                        <div class="trade-item-price">üíé 3,200</div>
                        <button class="trade-buy-btn" onclick="buyTrade('sword')">Acheter</button>
                    </div>
                    <div class="trade-item">
                        <div class="trade-item-icon">üõ°Ô∏è</div>
                        <div class="trade-item-info">
                            <div class="trade-item-name">Bouclier d'Ombre</div>
                            <div class="trade-item-seller">par DarkKnight</div>
                        </div>
                        <div class="trade-item-price">üíé 2,100</div>
                        <button class="trade-buy-btn" onclick="buyTrade('shield')">Acheter</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- SOCIAL/SHARE SCREEN -->
        <div class="screen" id="screen-social">
            <!-- REFERRAL -->
            <div class="referral-card">
                <div class="referral-title">üéÅ PARRAINAGE - Gagnez GROS!</div>
                <div class="referral-code" onclick="copyReferral()">SAURON-X7K9P</div>
                <p style="font-size: 0.85rem; color: #888; margin-bottom: 15px;">Partagez et gagnez 500üíé par ami!</p>
                <div class="referral-rewards">
                    <div class="referral-reward">
                        <div class="referral-reward-icon">üë•</div>
                        <div class="referral-reward-text">1 ami = 500üíé</div>
                    </div>
                    <div class="referral-reward">
                        <div class="referral-reward-icon">üéÅ</div>
                        <div class="referral-reward-text">5 amis = H√©ros Epic</div>
                    </div>
                    <div class="referral-reward">
                        <div class="referral-reward-icon">üëë</div>
                        <div class="referral-reward-text">10 amis = L√©gendaire!</div>
                    </div>
                </div>
                <div class="referral-progress">
                    <span class="referral-count">3/10 amis invit√©s</span>
                </div>
            </div>

            <!-- SHARE CARD -->
            <div class="share-card-preview">
                <div class="share-card-logo">üëÅÔ∏è</div>
                <div class="share-card-name" id="shareCardName">Agent Omega</div>
                <div class="share-card-stats">
                    <div class="share-stat">
                        <div class="share-stat-value">Lv.47</div>
                        <div class="share-stat-label">Niveau</div>
                    </div>
                    <div class="share-stat">
                        <div class="share-stat-value">15.4K</div>
                        <div class="share-stat-label">Puissance</div>
                    </div>
                    <div class="share-stat">
                        <div class="share-stat-value">#1,247</div>
                        <div class="share-stat-label">Rang</div>
                    </div>
                </div>
                <div class="share-qr">[QR Code]<br>Scannez pour jouer!</div>
                <div class="share-btns">
                    <button class="share-btn twitter" onclick="shareTwitter()">ùïè Partager</button>
                    <button class="share-btn whatsapp" onclick="shareWhatsApp()">üì± WhatsApp</button>
                    <button class="share-btn copy" onclick="copyShareLink()">üìã Copier</button>
                </div>
            </div>
        </div>

        <!-- PROFILE SCREEN -->
        <div class="screen" id="screen-profile">
            <div style="text-align: center; padding: 20px;">
                <div style="width: 100px; height: 100px; margin: 0 auto 15px; position: relative;">
                    <div class="avatar-ring" style="inset: -5px;"></div>
                    <div class="avatar-inner" style="font-size: 3rem; inset: 5px;">üëÅÔ∏è</div>
                </div>
                <h2 style="font-family: 'Cinzel'; color: var(--gold);">Agent Omega</h2>
                <p style="color: var(--cyan);">‚öîÔ∏è Shadow Legion</p>
                <div style="display: flex; justify-content: center; gap: 30px; margin: 20px 0;">
                    <div><div style="font-family: 'Orbitron'; font-size: 1.5rem; color: var(--cyan);">47</div><div style="font-size: 0.8rem; color: #888;">Niveau</div></div>
                    <div><div style="font-family: 'Orbitron'; font-size: 1.5rem; color: var(--gold);">15.4K</div><div style="font-size: 0.8rem; color: #888;">Puissance</div></div>
                    <div><div style="font-family: 'Orbitron'; font-size: 1.5rem; color: var(--green);">342</div><div style="font-size: 0.8rem; color: #888;">Victoires</div></div>
                </div>
            </div>
        </div>
    </main>

    <!-- BOTTOM NAV -->
    <nav class="bottom-nav">
        <button class="nav-item active" data-screen="home">
            <span class="icon">üè†</span>
            <span>Accueil</span>
        </button>
        <button class="nav-item" data-screen="world">
            <span class="icon">üåç</span>
            <span>Monde</span>
        </button>
        <button class="nav-item center-action" onclick="quickAction()">
            <span class="icon">‚ö°</span>
        </button>
        <button class="nav-item" data-screen="collection">
            <span class="icon">üìö</span>
            <span>Collection</span>
            <span class="badge">NEW</span>
        </button>
        <button class="nav-item" data-screen="social">
            <span class="icon">üéÅ</span>
            <span>Social</span>
            <span class="badge">3</span>
        </button>
    </nav>

    <!-- LANGUAGE SELECTOR -->
    <div class="lang-selector">
        <button class="lang-btn" onclick="toggleLangMenu()">üåê</button>
        <div class="lang-menu" id="langMenu">
            <div class="lang-option" onclick="setLang('fr')">üá´üá∑ Fran√ßais</div>
            <div class="lang-option" onclick="setLang('en')">üá¨üáß English</div>
            <div class="lang-option" onclick="setLang('es')">üá™üá∏ Espa√±ol</div>
            <div class="lang-option" onclick="setLang('de')">üá©üá™ Deutsch</div>
            <div class="lang-option" onclick="setLang('ja')">üáØüáµ Êó•Êú¨Ë™û</div>
            <div class="lang-option" onclick="setLang('zh')">üá®üá≥ ‰∏≠Êñá</div>
            <div class="lang-option" onclick="setLang('ar')">üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</div>
        </div>
    </div>

    <!-- GACHA REVEAL OVERLAY -->
    <div class="gacha-reveal" id="gachaReveal">
        <div class="gacha-reveal-box" id="gachaBox">üì¶</div>
        <div class="gacha-result">
            <div class="gacha-result-rarity" id="gachaRarity">LEGENDARY</div>
            <div class="gacha-result-name" id="gachaName">Dragon Ancestral</div>
        </div>
        <button class="gacha-close" onclick="closeGacha()">CONTINUER</button>
    </div>

    <script>
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // GAME STATE
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        let STATE = {
            name: 'Agent Omega',
            level: 47,
            xp: 4500,
            gems: 2450,
            energy: 47,
            coins: 125000,
            power: 15432,
            vip: 3,
            guild: 'Shadow Legion',
            battlePassTier: 23,
            collection: [],
            referrals: 3,
            streak: 12,
            soundOn: true
        };

        const saved = localStorage.getItem('sauron_v6_state');
        if (saved) STATE = { ...STATE, ...JSON.parse(saved) };
        
        function saveState() {
            localStorage.setItem('sauron_v6_state', JSON.stringify(STATE));
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // AUDIO SYSTEM (Web Audio API)
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        const AudioCtx = window.AudioContext || window.webkitAudioContext;
        let audioCtx;

        function playSound(type) {
            if (!STATE.soundOn) return;
            if (!audioCtx) audioCtx = new AudioCtx();
            
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            
            switch(type) {
                case 'click':
                    osc.frequency.value = 800;
                    gain.gain.value = 0.1;
                    osc.start();
                    osc.stop(audioCtx.currentTime + 0.05);
                    break;
                case 'success':
                    osc.frequency.value = 523;
                    gain.gain.value = 0.1;
                    osc.start();
                    setTimeout(() => osc.frequency.value = 659, 100);
                    setTimeout(() => osc.frequency.value = 784, 200);
                    osc.stop(audioCtx.currentTime + 0.3);
                    break;
                case 'legendary':
                    osc.type = 'sine';
                    osc.frequency.value = 440;
                    gain.gain.value = 0.15;
                    osc.start();
                    setTimeout(() => osc.frequency.value = 554, 150);
                    setTimeout(() => osc.frequency.value = 659, 300);
                    setTimeout(() => osc.frequency.value = 880, 450);
                    osc.stop(audioCtx.currentTime + 0.6);
                    break;
            }
        }

        function toggleSound() {
            STATE.soundOn = !STATE.soundOn;
            document.getElementById('soundToggle').textContent = STATE.soundOn ? 'üîä' : 'üîá';
            saveState();
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // PARTICLES
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        function createParticles() {
            const container = document.getElementById('particles');
            const colors = ['#00ffff', '#ff00ff', '#ffd700', '#00ff88'];
            for (let i = 0; i < 30; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.style.left = Math.random() * 100 + '%';
                p.style.width = p.style.height = (2 + Math.random() * 4) + 'px';
                p.style.background = colors[Math.floor(Math.random() * colors.length)];
                p.style.animationDelay = Math.random() * 15 + 's';
                p.style.animationDuration = (10 + Math.random() * 10) + 's';
                container.appendChild(p);
            }
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // INTRO SCREEN
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        function startGame() {
            playSound('success');
            document.getElementById('introScreen').classList.add('hidden');
            
            // Haptic feedback (mobile)
            if (navigator.vibrate) navigator.vibrate(50);
            
            // Show welcome notification after 1s
            setTimeout(() => {
                showNotif('üéâ', 'Bienvenue!', 'Votre aventure commence maintenant');
            }, 1000);
        }

        // Animate player count
        function animatePlayerCount() {
            const el = document.getElementById('totalPlayers');
            let count = 1200000;
            const target = 1247893;
            const interval = setInterval(() => {
                count += Math.floor(Math.random() * 1000);
                if (count >= target) {
                    count = target;
                    clearInterval(interval);
                }
                el.textContent = count.toLocaleString();
            }, 50);
        }
        animatePlayerCount();

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // NAVIGATION
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        document.querySelectorAll('.nav-item[data-screen]').forEach(btn => {
            btn.addEventListener('click', () => {
                playSound('click');
                const screen = btn.dataset.screen;
                document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
                document.getElementById('screen-' + screen).classList.add('active');
                
                if (screen === 'world') initWorldMap();
                if (screen === 'collection') renderCollection();
            });
        });

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // DAILY REWARDS
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        function claimDaily(type) {
            playSound('click');
            const card = event.target.closest('.daily-card');
            if (!card.classList.contains('available')) {
                showNotif('‚è∞', 'Pas encore!', 'Revenez plus tard');
                return;
            }
            
            card.classList.remove('available');
            playSound('success');
            
            let reward = '';
            switch(type) {
                case 'wheel':
                    const prizes = [50, 100, 200, 500, 1000];
                    const prize = prizes[Math.floor(Math.random() * prizes.length)];
                    STATE.gems += prize;
                    reward = `+${prize} üíé`;
                    break;
                case 'ad':
                    STATE.gems += 50;
                    reward = '+50 üíé';
                    break;
            }
            
            showNotif('üéÅ', 'R√©compense!', reward);
            updateUI();
            saveState();
            
            if (navigator.vibrate) navigator.vibrate([50, 50, 50]);
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // GACHA SYSTEM
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        const GACHA_ITEMS = {
            common: [
                { name: 'Soldat', icon: '‚öîÔ∏è', rarity: 'common' },
                { name: 'Archer', icon: 'üèπ', rarity: 'common' },
                { name: 'Mage Novice', icon: 'üîÆ', rarity: 'common' }
            ],
            rare: [
                { name: 'Chevalier', icon: 'üõ°Ô∏è', rarity: 'rare' },
                { name: 'Sorcier', icon: 'üßô', rarity: 'rare' },
                { name: 'Assassin', icon: 'üó°Ô∏è', rarity: 'rare' }
            ],
            epic: [
                { name: 'Phoenix', icon: 'üî•', rarity: 'epic' },
                { name: 'Titan', icon: 'üí™', rarity: 'epic' },
                { name: 'Archimage', icon: '‚ö°', rarity: 'epic' }
            ],
            legendary: [
                { name: 'Dragon Ancestral', icon: 'üêâ', rarity: 'legendary' },
                { name: 'L\'≈íil de Sauron', icon: 'üëÅÔ∏è', rarity: 'legendary' },
                { name: 'Roi des Ombres', icon: 'üëë', rarity: 'legendary' }
            ]
        };

        function pullGacha(tier) {
            playSound('click');
            
            // Determine rarity based on rates
            let roll = Math.random() * 100;
            let rarity;
            if (roll < 0.1) rarity = 'legendary';
            else if (roll < 2) rarity = 'epic';
            else if (roll < 10) rarity = 'rare';
            else rarity = 'common';
            
            // Boost rates for higher tier boxes
            if (tier === 'legendary') {
                roll = Math.random() * 100;
                if (roll < 5) rarity = 'legendary';
                else if (roll < 25) rarity = 'epic';
                else if (roll < 60) rarity = 'rare';
            } else if (tier === 'epic') {
                roll = Math.random() * 100;
                if (roll < 1) rarity = 'legendary';
                else if (roll < 15) rarity = 'epic';
                else if (roll < 50) rarity = 'rare';
            }
            
            const pool = GACHA_ITEMS[rarity];
            const item = pool[Math.floor(Math.random() * pool.length)];
            
            // Show reveal animation
            const reveal = document.getElementById('gachaReveal');
            const box = document.getElementById('gachaBox');
            const rarityEl = document.getElementById('gachaRarity');
            const nameEl = document.getElementById('gachaName');
            
            box.textContent = 'üì¶';
            reveal.classList.add('active');
            
            setTimeout(() => {
                box.textContent = item.icon;
                rarityEl.textContent = item.rarity.toUpperCase();
                rarityEl.className = 'gacha-result-rarity ' + item.rarity;
                nameEl.textContent = item.name;
                
                if (item.rarity === 'legendary') {
                    playSound('legendary');
                    if (navigator.vibrate) navigator.vibrate([100, 50, 100, 50, 200]);
                } else {
                    playSound('success');
                }
                
                STATE.collection.push(item);
                saveState();
            }, 1500);
        }

        function closeGacha() {
            document.getElementById('gachaReveal').classList.remove('active');
            playSound('click');
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // PVP ARENA
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        function startPvP() {
            if (STATE.energy < 5) {
                showNotif('‚ö°', '√ânergie insuffisante!', 'Attendez ou achetez de l\'√©nergie');
                return;
            }
            
            STATE.energy -= 5;
            playSound('click');
            
            // Simulate battle
            const win = Math.random() > 0.4;
            
            setTimeout(() => {
                if (win) {
                    STATE.gems += 50;
                    STATE.coins += 5000;
                    playSound('success');
                    showNotif('üèÜ', 'VICTOIRE!', '+50üíé +5000ü™ô');
                    if (navigator.vibrate) navigator.vibrate([100, 50, 100]);
                } else {
                    showNotif('üíÄ', 'D√©faite...', 'R√©essayez!');
                }
                updateUI();
                saveState();
            }, 1000);
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // WORLD MAP
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        let worldMap;
        function initWorldMap() {
            if (worldMap) return;
            
            worldMap = L.map('worldMap', { zoomControl: false }).setView([30, 0], 2);
            L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
                maxZoom: 19
            }).addTo(worldMap);
            
            const hotspots = [
                { lat: 48.8566, lng: 2.3522, name: 'Paris', players: '125K' },
                { lat: 50.8503, lng: 4.3517, name: 'Bruxelles', players: '45K' },
                { lat: 40.7128, lng: -74.0060, name: 'New York', players: '230K' },
                { lat: 35.6762, lng: 139.6503, name: 'Tokyo', players: '180K' },
                { lat: -23.5505, lng: -46.6333, name: 'S√£o Paulo', players: '95K' },
                { lat: 37.5665, lng: 126.9780, name: 'S√©oul', players: '150K' }
            ];
            
            hotspots.forEach(h => {
                L.circleMarker([h.lat, h.lng], {
                    radius: 10,
                    fillColor: '#00ffff',
                    color: '#00ffff',
                    weight: 2,
                    opacity: 0.8,
                    fillOpacity: 0.4
                }).addTo(worldMap).bindPopup(`<b>${h.name}</b><br>${h.players} joueurs`);
            });
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // COLLECTION
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        const ALL_COLLECTIBLES = [
            { icon: '‚öîÔ∏è', rarity: 'common' }, { icon: 'üèπ', rarity: 'common' }, { icon: 'üîÆ', rarity: 'common' },
            { icon: 'üõ°Ô∏è', rarity: 'rare' }, { icon: 'üßô', rarity: 'rare' }, { icon: 'üó°Ô∏è', rarity: 'rare' },
            { icon: 'üî•', rarity: 'epic' }, { icon: 'üí™', rarity: 'epic' }, { icon: '‚ö°', rarity: 'epic' },
            { icon: 'üêâ', rarity: 'legendary' }, { icon: 'üëÅÔ∏è', rarity: 'legendary' }, { icon: 'üëë', rarity: 'legendary' },
            { icon: 'ü¶Ö', rarity: 'epic' }, { icon: 'üê∫', rarity: 'rare' }, { icon: 'ü¶ä', rarity: 'rare' },
            { icon: 'üåü', rarity: 'legendary' }, { icon: 'üíé', rarity: 'epic' }, { icon: 'üé≠', rarity: 'rare' },
            { icon: 'üåô', rarity: 'epic' }, { icon: '‚òÄÔ∏è', rarity: 'legendary' }, { icon: 'üåà', rarity: 'legendary' },
            { icon: 'üé™', rarity: 'common' }, { icon: 'üé®', rarity: 'common' }, { icon: 'üéµ', rarity: 'rare' }
        ];

        function renderCollection() {
            const grid = document.getElementById('collectionGrid');
            grid.innerHTML = ALL_COLLECTIBLES.map((item, i) => {
                const owned = STATE.collection.some(c => c.icon === item.icon);
                return `
                    <div class="collection-item ${owned ? 'owned' : 'locked'} ${item.rarity === 'legendary' && owned ? 'legendary' : ''}">
                        <div class="collection-icon">${owned ? item.icon : '‚ùì'}</div>
                        <div class="collection-rarity ${item.rarity}">${item.rarity}</div>
                    </div>
                `;
            }).join('');
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // SOCIAL / SHARE
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        function copyReferral() {
            navigator.clipboard.writeText('SAURON-X7K9P');
            playSound('success');
            showNotif('üìã', 'Copi√©!', 'Code de parrainage copi√©');
        }

        function shareTwitter() {
            const text = `Je suis niveau ${STATE.level} sur SAURON APEX! üî• Rejoignez-moi avec le code SAURON-X7K9P`;
            window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`, '_blank');
        }

        function shareWhatsApp() {
            const text = `Je suis niveau ${STATE.level} sur SAURON APEX! üî• Rejoignez-moi: [lien]`;
            window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');
        }

        function copyShareLink() {
            navigator.clipboard.writeText('https://sauron-apex.game/join/X7K9P');
            playSound('success');
            showNotif('üìã', 'Lien copi√©!', 'Partagez avec vos amis');
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // TRADING
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        function buyTrade(item) {
            playSound('click');
            showNotif('üîÑ', 'Achat en cours...', 'Transaction simul√©e');
        }

        function createListing() {
            playSound('click');
            showNotif('üìù', 'Cr√©ation...', 'Fonctionnalit√© d√©mo');
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // CHAT
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        const chatMessages = [
            { avatar: 'üêâ', name: 'DragonSlayer', text: 'Anyone for guild war? üî•' },
            { avatar: 'ü¶ä', name: 'FoxHunter', text: 'Just got a legendary! üëë' },
            { avatar: '‚öîÔ∏è', name: 'WarMaster', text: 'GG! Which one?' }
        ];

        function sendChat() {
            const input = document.getElementById('chatInput');
            const text = input.value.trim();
            if (!text) return;
            
            const container = document.getElementById('chatMessages');
            container.innerHTML += `
                <div class="chat-msg">
                    <div class="chat-msg-avatar">üëÅÔ∏è</div>
                    <div class="chat-msg-content">
                        <div class="chat-msg-name">${STATE.name}</div>
                        <div class="chat-msg-text">${text}</div>
                    </div>
                </div>
            `;
            input.value = '';
            container.scrollTop = container.scrollHeight;
            playSound('click');
            
            // Simulate response
            setTimeout(() => {
                const responses = ['Nice! üëç', 'GG!', 'Let\'s go! üöÄ', 'Awesome!'];
                container.innerHTML += `
                    <div class="chat-msg">
                        <div class="chat-msg-avatar">üê∫</div>
                        <div class="chat-msg-content">
                            <div class="chat-msg-name">WolfPack</div>
                            <div class="chat-msg-text">${responses[Math.floor(Math.random() * responses.length)]}</div>
                        </div>
                    </div>
                `;
                container.scrollTop = container.scrollHeight;
            }, 1500);
        }

        document.getElementById('chatInput').addEventListener('keypress', e => {
            if (e.key === 'Enter') sendChat();
        });

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // LANGUAGE
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        function toggleLangMenu() {
            document.getElementById('langMenu').classList.toggle('open');
        }

        function setLang(lang) {
            showNotif('üåê', 'Langue', `Interface en ${lang.toUpperCase()} (d√©mo)`);
            toggleLangMenu();
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // NOTIFICATIONS
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        function showNotif(icon, title, msg) {
            const notif = document.createElement('div');
            notif.className = 'notif-popup';
            notif.innerHTML = `
                <div class="notif-icon">${icon}</div>
                <div class="notif-content">
                    <div class="notif-title">${title}</div>
                    <div class="notif-msg">${msg}</div>
                </div>
            `;
            document.body.appendChild(notif);
            setTimeout(() => notif.remove(), 5000);
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // QUICK ACTION (Center button)
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        function quickAction() {
            playSound('click');
            if (navigator.vibrate) navigator.vibrate(50);
            
            // Random quick reward
            const rewards = [
                { type: 'gems', amount: 10, icon: 'üíé' },
                { type: 'coins', amount: 500, icon: 'ü™ô' },
                { type: 'energy', amount: 1, icon: '‚ö°' }
            ];
            const reward = rewards[Math.floor(Math.random() * rewards.length)];
            
            STATE[reward.type] += reward.amount;
            showNotif(reward.icon, 'Bonus Rapide!', `+${reward.amount} ${reward.icon}`);
            updateUI();
            saveState();
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // UI UPDATE
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        function updateUI() {
            document.getElementById('gems').textContent = STATE.gems.toLocaleString();
            document.getElementById('energy').textContent = STATE.energy;
            document.getElementById('coins').textContent = STATE.coins >= 1000 ? Math.floor(STATE.coins/1000) + 'K' : STATE.coins;
            document.getElementById('playerName').textContent = STATE.name;
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // PROFILE
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        function showProfile() {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('screen-profile').classList.add('active');
            document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
            playSound('click');
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // BATTLE PASS
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        function showBattlePass() {
            showNotif('üèÜ', 'Battle Pass', 'Tier 23/100 - Continuez √† jouer!');
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // SHOP
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        function showShop() {
            showNotif('üõí', 'Boutique', 'Achetez des gemmes! (d√©mo)');
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // TIMERS
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        function updateTimers() {
            // Energy regen
            if (STATE.energy < 50) {
                STATE.energy = Math.min(50, STATE.energy + 0.01);
                document.getElementById('energy').textContent = Math.floor(STATE.energy);
            }
            
            // Seasonal timer
            const now = new Date();
            const end = new Date(now.getFullYear(), 11, 31);
            const diff = end - now;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            document.getElementById('seasonalTimer').textContent = `${days}j ${hours}h`;
        }
        setInterval(updateTimers, 1000);

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // INIT
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        createParticles();
        updateUI();
        
        // Check if returning player
        if (localStorage.getItem('sauron_v6_played')) {
            document.getElementById('introScreen').classList.add('hidden');
            setTimeout(() => showNotif('üëã', 'Bon retour!', 'Votre streak: ' + STATE.streak + ' jours'), 1000);
        }
        localStorage.setItem('sauron_v6_played', 'true');

        // Periodic fake notifications for engagement
        setInterval(() => {
            const fakeNotifs = [
                { icon: '‚öîÔ∏è', title: 'Attaque!', msg: 'DragonSlayer vous d√©fie!' },
                { icon: 'üéÅ', title: 'Cadeau Guild', msg: 'R√©compense disponible!' },
                { icon: 'üî•', title: 'Event!', msg: 'Double XP activ√©!' },
                { icon: 'üë•', title: 'Ami en ligne', msg: 'FoxHunter est connect√©' }
            ];
            const n = fakeNotifs[Math.floor(Math.random() * fakeNotifs.length)];
            showNotif(n.icon, n.title, n.msg);
        }, 45000);

        console.log('üî• SAURON V6 APEX - WORLD DOMINATION initialized!');
    </script>
</body>
</html>
